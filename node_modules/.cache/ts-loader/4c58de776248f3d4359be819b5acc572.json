{"remainingRequest":"/home/george/projects/gem-farm-chimps-v2/node_modules/babel-loader/lib/index.js!/home/george/projects/gem-farm-chimps-v2/node_modules/ts-loader/index.js??ref--14-2!/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue","mtime":1651784671825},{"path":"/home/george/projects/gem-farm-chimps-v2/babel.config.js","mtime":1651784671821},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js","mtime":1648666880328},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/babel-loader/lib/index.js","mtime":1648666880284},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/ts-loader/index.js","mtime":1648666885109},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js","mtime":1648666880328},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js","mtime":1648666889180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2dlb3JnZS9wcm9qZWN0cy9nZW0tZmFybS1jaGltcHMtdjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZ2VvcmdlL3Byb2plY3RzL2dlbS1mYXJtLWNoaW1wcy12Mi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1Yi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgdXNlV2FsbGV0IGZyb20gJ0AvY29tcG9zYWJsZXMvd2FsbGV0JzsKaW1wb3J0IHVzZUNsdXN0ZXIsIHsgQmFua0FkZHIgfSBmcm9tICdAL2NvbXBvc2FibGVzL2NsdXN0ZXInOwppbXBvcnQgeyBpbml0R2VtRmFybSB9IGZyb20gJ0AvY29tbW9uL2dlbS1mYXJtJzsKaW1wb3J0IHsgUHVibGljS2V5IH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJzsKaW1wb3J0IENvbmZpZ1BhbmUgZnJvbSAnQC9jb21wb25lbnRzL0NvbmZpZ1BhbmUudnVlJzsKaW1wb3J0IEZhcm1lckRpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL2dlbS1mYXJtL0Zhcm1lckRpc3BsYXkudnVlJzsKaW1wb3J0IFZhdWx0IGZyb20gJ0AvY29tcG9uZW50cy9nZW0tYmFuay9WYXVsdC52dWUnOwppbXBvcnQgeyBmaW5kRmFybWVyUERBLCBzdHJpbmdpZnlQS3NBbmRCTnMgfSBmcm9tICdAZ2Vtd29ya3MvZ2VtLWZhcm0tdHMnOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVmF1bHQ6IFZhdWx0LAogICAgRmFybWVyRGlzcGxheTogRmFybWVyRGlzcGxheSwKICAgIENvbmZpZ1BhbmU6IENvbmZpZ1BhbmUsCiAgICBNb2RhbDogTW9kYWwKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgY3R4KSB7CiAgICB2YXIgX3VzZVdhbGxldCA9IHVzZVdhbGxldCgpLAogICAgICAgIHdhbGxldCA9IF91c2VXYWxsZXQud2FsbGV0LAogICAgICAgIGdldFdhbGxldCA9IF91c2VXYWxsZXQuZ2V0V2FsbGV0OwoKICAgIHZhciBfdXNlQ2x1c3RlciA9IHVzZUNsdXN0ZXIoKSwKICAgICAgICBjbHVzdGVyID0gX3VzZUNsdXN0ZXIuY2x1c3RlciwKICAgICAgICBnZXRDb25uZWN0aW9uID0gX3VzZUNsdXN0ZXIuZ2V0Q29ubmVjdGlvbjsKCiAgICB2YXIgd2lkdGhkcmF3TkZUcyA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxBY3RpdmUgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsR29vZCA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxCYWQgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsTmV1dHJhbCA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxTaG93V2hlZWwgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsU2hvd0Nsb3NlYnV0dG9uID0gcmVmKGZhbHNlKTsKCiAgICB2YXIgdG9nZ2xlTW9kYWwgPSBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHsKICAgICAgbW9kYWxBY3RpdmUudmFsdWUgPSAhbW9kYWxBY3RpdmUudmFsdWU7CiAgICB9OwoKICAgIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIG1vZGFsQWN0aXZlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHsKICAgICAgbW9kYWxBY3RpdmUudmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgdmFyIHNldE1vZGFsQ29udGVudCA9IGZ1bmN0aW9uIHNldE1vZGFsQ29udGVudChoZWFkZXIsIGNvbnRlbnQsIHN0eWxlLCBzaG93Q2xvc2UsIHNob3dXaGVlbCkgewogICAgICBtb2RhbEdvb2QudmFsdWUgPSBmYWxzZTsKICAgICAgbW9kYWxCYWQudmFsdWUgPSBmYWxzZTsKICAgICAgbW9kYWxOZXV0cmFsLnZhbHVlID0gZmFsc2U7CiAgICAgIE1vZGFsSGVhZGVyLnZhbHVlID0gaGVhZGVyOwogICAgICBNb2RhbE1lc3NhZ2UudmFsdWUgPSBjb250ZW50OwogICAgICBtb2RhbFNob3dDbG9zZWJ1dHRvbi52YWx1ZSA9IHNob3dDbG9zZTsKICAgICAgbW9kYWxTaG93V2hlZWwudmFsdWUgPSBzaG93V2hlZWw7CiAgICAgIGlmIChzdHlsZSA9PSAnbW9kYWwtZ29vZCcpIG1vZGFsR29vZC52YWx1ZSA9IHRydWU7CiAgICAgIGlmIChzdHlsZSA9PSAnbW9kYWwtYmFkJykgbW9kYWxCYWQudmFsdWUgPSB0cnVlOwogICAgICBpZiAoc3R5bGUgPT0gJ21vZGFsLW5ldXRyYWwnKSBtb2RhbE5ldXRyYWwudmFsdWUgPSB0cnVlOwogICAgfTsKCiAgICB2YXIgZ2Y7CiAgICB3YXRjaChbd2FsbGV0LCBjbHVzdGVyXSwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmcmVzaFN0YXJ0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy9uZWVkZWQgaW4gY2FzZSB3ZSBzd2l0Y2ggaW4gZnJvbSBhbm90aGVyIHdpbmRvdwoKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmcmVzaFN0YXJ0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkpOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZmFybWVyIGRldGFpbHMKCiAgICB2YXIgZmFybSA9IHJlZigpOwogICAgdmFyIGZhcm1BY2MgPSByZWYoKTsKICAgIHZhciBNb2RhbE1lc3NhZ2UgPSByZWYoKTsKICAgIHZhciBNb2RhbEhlYWRlciA9IHJlZigpOwogICAgdmFyIGFjY3J1ZWRSZXdhcmQgPSByZWYoKTsKICAgIHZhciBwYWlkT3V0UmV3YXJkID0gcmVmKCk7CiAgICB2YXIgZml4ZWRSYXRlID0gcmVmKCk7CiAgICB2YXIgZXN0Rml4ZWRSYXRlID0gcmVmKCk7CiAgICB2YXIgZXN0UmV3YXJkcyA9IHJlZigpOwogICAgdmFyIGZhcm1lcklkZW50aXR5ID0gcmVmKCk7CiAgICB2YXIgZmFybWVyQWNjID0gcmVmKCk7CiAgICB2YXIgZmFybWVyU3RhdGUgPSByZWYoKTsKICAgIHZhciBhdmFpbGFibGVBID0gcmVmKCk7CiAgICB2YXIgYWNjcnVlZEEgPSByZWYoKTsKICAgIHZhciBhdmFpbGFibGVCID0gcmVmKCk7CiAgICB2YXIgVmF1bHRSZWYgPSByZWYobnVsbCk7CiAgICB2YXIgdG90YWxBY2NvdW50cyA9IHJlZigpOwogICAgdmFyIHRvdGFsU3Rha2VkQWNjb3VudHMgPSByZWYoKTsKICAgIHZhciB0b3RhbE5GVHNTdGFrZWQgPSByZWYoKTsKICAgIHZhciB0b3RhbE5GVHMgPSByZWYoKTsKICAgIHZhciBmYXJtZXJiZWdpblN0YWtpbmdUcyA9IHJlZigpOyAvL2F1dG8gbG9hZGluZyBmb3Igd2hlbiBmYXJtIGNoYW5nZXMKCiAgICB3YXRjaChmYXJtLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGZyZXNoU3RhcnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSk7CgogICAgdmFyIHVwZGF0ZUF2YWlsYWJsZVJld2FyZHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhY2NydWVkUmV3YXJkLnZhbHVlID0gZmFybWVyQWNjLnZhbHVlLnJld2FyZEEuYWNjcnVlZFJld2FyZC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgcGFpZE91dFJld2FyZC52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLnBhaWRPdXRSZXdhcmQudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIGZpeGVkUmF0ZS52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmZpeGVkUmF0ZS5wcm9taXNlZFNjaGVkdWxlLmJhc2VSYXRlICogZmFybWVyQWNjLnZhbHVlLnJhcml0eVBvaW50c1N0YWtlZC53b3Jkc1swXTsKICAgICAgICAgICAgICAgIGVzdEZpeGVkUmF0ZS52YWx1ZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLyAxMDAwIC0gZmFybWVyQWNjLnZhbHVlLm1pblN0YWtpbmdFbmRzVHMpICogKGZpeGVkUmF0ZS52YWx1ZSAvIDEwMDAwMDAwMDApIC8gNjA0Nzk5KTsKICAgICAgICAgICAgICAgIGVzdFJld2FyZHMudmFsdWUgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC8gMTAwMCAtIGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmZpeGVkUmF0ZS5sYXN0VXBkYXRlZFRzKSAqIChmaXhlZFJhdGUudmFsdWUgLyAxMDAwMDAwMDAwIC8gNyAvIDI0IC8gNjAgLyA2MCkpOwogICAgICAgICAgICAgICAgYXZhaWxhYmxlQS52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmFjY3J1ZWRSZXdhcmQuc3ViKGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLnBhaWRPdXRSZXdhcmQpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICBhdmFpbGFibGVCLnZhbHVlID0gZmFybWVyQWNjLnZhbHVlLnJld2FyZEIuYWNjcnVlZFJld2FyZC5zdWIoZmFybWVyQWNjLnZhbHVlLnJld2FyZEIucGFpZE91dFJld2FyZCkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHRvdGFsTkZUcy52YWx1ZSA9IDEwMDAwOwogICAgICAgICAgICAgICAgZmFybWVyYmVnaW5TdGFraW5nVHMudmFsdWUgPSBmYXJtZXJBY2MudmFsdWUucmV3YXJkQS5maXhlZFJhdGUuYmVnaW5TdGFraW5nVHM7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiB1cGRhdGVBdmFpbGFibGVSZXdhcmRzKCkgewogICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBmZXRjaEZhcm4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YuZmV0Y2hGYXJtQWNjKG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBmYXJtQWNjLnZhbHVlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICB0b3RhbEFjY291bnRzLnZhbHVlID0gZmFybUFjYy52YWx1ZS5mYXJtZXJDb3VudDsKICAgICAgICAgICAgICAgIHRvdGFsU3Rha2VkQWNjb3VudHMudmFsdWUgPSBmYXJtQWNjLnZhbHVlLnN0YWtlZEZhcm1lckNvdW50OwogICAgICAgICAgICAgICAgdG90YWxORlRzU3Rha2VkLnZhbHVlID0gZmFybUFjYy52YWx1ZS5nZW1zU3Rha2VkOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hGYXJuKCkgewogICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBmZXRjaEZhcm1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIF9nZXRXYWxsZXQkcHVibGljS2V5OwoKICAgICAgICB2YXIgX3lpZWxkJGZpbmRGYXJtZXJQREEsIF95aWVsZCRmaW5kRmFybWVyUERBMiwgZmFybWVyUERBOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRGYXJtZXJQREEobmV3IFB1YmxpY0tleShmYXJtLnZhbHVlKSwgZ2V0V2FsbGV0KCkucHVibGljS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGZpbmRGYXJtZXJQREEgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRmaW5kRmFybWVyUERBMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRmaW5kRmFybWVyUERBLCAxKTsKICAgICAgICAgICAgICAgIGZhcm1lclBEQSA9IF95aWVsZCRmaW5kRmFybWVyUERBMlswXTsKICAgICAgICAgICAgICAgIGZhcm1lcklkZW50aXR5LnZhbHVlID0gKF9nZXRXYWxsZXQkcHVibGljS2V5ID0gZ2V0V2FsbGV0KCkucHVibGljS2V5KSA9PT0gbnVsbCB8fCBfZ2V0V2FsbGV0JHB1YmxpY0tleSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dldFdhbGxldCRwdWJsaWNLZXkudG9CYXNlNTgoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5mZXRjaEZhcm1lckFjYyhmYXJtZXJQREEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBmYXJtZXJBY2MudmFsdWUgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGZhcm1lclN0YXRlLnZhbHVlID0gZ2YucGFyc2VGYXJtZXJTdGF0ZShmYXJtZXJBY2MudmFsdWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVBdmFpbGFibGVSZXdhcmRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmFybWVyIGZvdW5kIGF0ICIuY29uY2F0KGZhcm1lcklkZW50aXR5LnZhbHVlLCAiOiIpLCBzdHJpbmdpZnlQS3NBbmRCTnMoZmFybWVyQWNjLnZhbHVlKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hGYXJtZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGZyZXNoU3RhcnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBfZ2V0V2FsbGV0JHB1YmxpY0tleTI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIldlbGNvbWUgdG8gTHV4IE1ldGF2ZXJzZSBTdGFraW5nIiwgIldlIGFyZSBhY3RpdmVseSB1cGRhdGluZyB0aGlzIGludGVyZmFjZS9zdGFraW5nIHNvbHV0aW9uLiBCdXQgcGxlYXNlIG5vdGUgYmVmb3JlIHN0YWtpbmcgdG8gbWFrZSBzdXJlIGFsbCB5b3VyIE5GVCdzIGFyZSBpbiB0aGUgVGFyZ2V0IFZhdWx0IGJlZm9yZSBzdGFraW5nLiBUaGUgYWN0IG9mIGNsaWNraW5nICdTdGFydCBTdGFraW5nJyB3aWxsIGxvY2sgdGhpcyBORlQgZm9yIDcgZGF5cyBpbiB0aGlzIHZhdWx0IHlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIHVuc3Rha2UgZHVyaW5nIHRoaXMgdGltZS4iLCAibW9kYWwtbmV1dHJhbCIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwoKICAgICAgICAgICAgICAgIGlmICghKGdldFdhbGxldCgpICYmIGdldENvbm5lY3Rpb24oKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRHZW1GYXJtKGdldENvbm5lY3Rpb24oKSwgZ2V0V2FsbGV0KCkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBnZiA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgZmFybWVySWRlbnRpdHkudmFsdWUgPSAoX2dldFdhbGxldCRwdWJsaWNLZXkyID0gZ2V0V2FsbGV0KCkucHVibGljS2V5KSA9PT0gbnVsbCB8fCBfZ2V0V2FsbGV0JHB1YmxpY0tleTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nZXRXYWxsZXQkcHVibGljS2V5Mi50b0Jhc2U1OCgpOwogICAgICAgICAgICAgICAgZmFybS52YWx1ZSA9IEJhbmtBZGRyLkxVWDsgLy9yZXNldCBzdHVmZgoKICAgICAgICAgICAgICAgIGZhcm1BY2MudmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBmYXJtZXJBY2MudmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBmYXJtZXJTdGF0ZS52YWx1ZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGF2YWlsYWJsZUEudmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBhdmFpbGFibGVCLnZhbHVlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgd2lkdGhkcmF3TkZUcy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGYXJuKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGZldGNoRmFybigpOwogICAgICAgICAgICAgICAgICBmZXRjaEZhcm1lcigpOwogICAgICAgICAgICAgICAgfSwgNjAwMDAwKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDdbImNhdGNoIl0oMTQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImZhcm0gd2l0aCBQSyAiLmNvbmNhdChmYXJtLnZhbHVlLCAiIG5vdCBmb3VuZCA6KCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1sxNCwgMjJdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBmcmVzaFN0YXJ0KCkgewogICAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBpbml0RmFybWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAwOwogICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJTdWJtaXR0aW5nIFRyYW5zYWN0aW9uIiwgIkNyZWF0aW5nIG5ldyBzdGFraW5nIGFjY291bnQ6IFRyYW5zYWN0aW9uIGluIFByb2dyZXNzIiwgIm1vZGFsLW5ldXRyYWwiLCBmYWxzZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5pbml0RmFybWVyV2FsbGV0KG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGYXJtZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDhbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ1Vua25vd24gRXJyb3I6IFBsZWFzZSB0cnkgYWdhaW4uIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgcGxlYXNlIHJlYWNoIG91dCB0byB0aGUgc2l0ZSBhZG1pbic7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0OC50MCBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpOwogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX2NvbnRleHQ4LnQwLm1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzcwIikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlRyYW5zYWN0aW9uIEZhaWxlZDogQ29tcHV0ZSBsaW1pdCgyMDAwMDApIHJlYWNoZWQuICI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmluY2x1ZGVzKCIweDEiKSkgewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhdCBsZWFzdCAuMDUgU29sIGluIHlvdXIgYWNjb3VudCB0byBjb3ZlciByZW50YWwgYW5kIHRyYW5zYWN0aW9uIGZlZXMiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzg0IikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlZhdWx0IGlzIExvY2tlZC4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciB0aGUgbWluaW11bSBzdGFraW5nIHBlcm9pZCBoYXMgY29tcGxldGVkICI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlRoZXJlIHdhcyBhIHByb2JsZW0iLCBtZXNzYWdlLCAibW9kYWwtYmFkIiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0RmFybWVyKCkgewogICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc3Rha2luZwoKCiAgICB2YXIgYmVnaW5TdGFraW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAwOwogICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlN1Ym1pdHRpbmcgVHJhbnNhY3Rpb24iLCAiVHJhbnNhY3Rpb24gaW4gUHJvZ3Jlc3MiLCAibW9kYWwtbmV1dHJhbCIsIGZhbHNlLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBpZiAoIShWYXVsdFJlZi52YWx1ZS5kZXNpcmVkVmF1bHRORlRzLmxlbmd0aCA+PSBWYXVsdFJlZi52YWx1ZS5jdXJyZW50VmF1bHRORlRzLmxlbmd0aCAmJiBWYXVsdFJlZi52YWx1ZS5kZXNpcmVkVmF1bHRORlRzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBWYXVsdFJlZi52YWx1ZS5tb3ZlTkZUc09uQ2hhaW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGdmLnN0YWtlV2FsbGV0KG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBoaWRlTW9kYWwoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKFZhdWx0UmVmLnZhbHVlLmRlc2lyZWRWYXVsdE5GVHMubGVuZ3RoIC0gVmF1bHRSZWYudmFsdWUuY3VycmVudFZhdWx0TkZUcy5sZW5ndGggPj0gMCAmJiBWYXVsdFJlZi52YWx1ZS5kZXNpcmVkVmF1bHRORlRzLmxlbmd0aCA8IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiVGhlcmUgd2FzIGEgcHJvYmxlbSIsICJZb3UgbXVzdCBtb3ZlIGF0IGxlYXN0IDEgTkZUIHRvIHRoZSBzdGFraW5nIHdhbGxldC4gVG8gZG8gc28sIGNsaWNrIHRoZSBORlQgdGhlbiBjbGljayB0aGUgcmlnaHQgYXJyb3cgdGhlbiBoaXQgU3RhcnQgU3Rha2luZyEiLCAibW9kYWwtYmFkIiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBWYXVsdFJlZi52YWx1ZS5tb3ZlTkZUc09uQ2hhaW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZhcm1lcigpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IF9jb250ZXh0OVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdVbmtub3duIEVycm9yOiBQbGVhc2UgdHJ5IGFnYWluLiBJZiB0aGUgcHJvYmxlbSBjb250aW51ZXMsIHBsZWFzZSByZWFjaCBvdXQgdG8gdGhlIHNpdGUgYWRtaW4nOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDkudDAgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX2NvbnRleHQ5LnQwLm1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzlhIikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIk1pbmltdW0gc3Rha2luZyB0aW1lIG5vdCByZWFjaGVkLiAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzg1IikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIk11c3QgaGF2ZSBhdCBsZWFzdCAxIE5GVCBzdGFrZWQgaW4gdGhlIFZhdWx0LiAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzg0IikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlZhdWx0IGlzIExvY2tlZC4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciB0aGUgbWluaW11bSBzdGFraW5nIHBlcm9pZCBoYXMgY29tcGxldGVkICI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlRoZXJlIHdhcyBhIHByb2JsZW0iLCBtZXNzYWdlLCAibW9kYWwtYmFkIiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgc2VsZWN0ZWRORlRzLnZhbHVlID0gW107CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMCwgMjJdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBiZWdpblN0YWtpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGVuZFN0YWtpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjEwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoZmluYWxpemUpIHsKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDA7CiAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiU3VibWl0dGluZyBUcmFuc2FjdGlvbnMuIiwgIlBsZWFzZSBXYWl0LiBUcmFuc2FjdGlvbiBpbiBQcm9ncmVzcyIsICJtb2RhbC1uZXV0cmFsIiwgZmFsc2UsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBnZi51bnN0YWtlV2FsbGV0KG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC50MCA9IF9jb250ZXh0MTBbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ1Vua25vd24gRXJyb3I6IFBsZWFzZSB0cnkgYWdhaW4uIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgcGxlYXNlIHJlYWNoIG91dCB0byB0aGUgc2l0ZSBhZG1pbic7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTAudDAgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX2NvbnRleHQxMC50MC5tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc5YSIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJNaW5pbXVtIHN0YWtpbmcgdGltZSBub3QgcmVhY2hlZC4gIjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiVGhlcmUgd2FzIGEgcHJvYmxlbSIsIG1lc3NhZ2UsICJtb2RhbC1iYWQiLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBzZWxlY3RlZE5GVHMudmFsdWUgPSBbXTsKICAgICAgICAgICAgICAgIGlmIChmaW5hbGl6ZSkgZW5kU3Rha2luZyhmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCwgbnVsbCwgW1swLCAxMF1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVuZFN0YWtpbmcoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZjEwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGNsYWltID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxMSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5jbGFpbVdhbGxldChuZXcgUHVibGljS2V5KGZhcm0udmFsdWUpLCBuZXcgUHVibGljS2V5KGZhcm1BY2MudmFsdWUucmV3YXJkQS5yZXdhcmRNaW50KSwgbmV3IFB1YmxpY0tleShmYXJtQWNjLnZhbHVlLnJld2FyZEIucmV3YXJkTWludCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsYWltKCkgewogICAgICAgIHJldHVybiBfcmVmMTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgaGFuZGxlUmVmcmVzaEZhcm1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YucmVmcmVzaEZhcm1lcldhbGxldChuZXcgUHVibGljS2V5KGZhcm0pLCBuZXcgUHVibGljS2V5KGZhcm1lcklkZW50aXR5KSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2hGYXJtZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYxMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWRkaW5nIGV4dHJhIGdlbQoKCiAgICB2YXIgc2VsZWN0ZWRORlRzID0gcmVmKFtdKTsKCiAgICB2YXIgaGFuZGxlTmV3U2VsZWN0ZWRORlQgPSBmdW5jdGlvbiBoYW5kbGVOZXdTZWxlY3RlZE5GVChuZXdTZWxlY3RlZE5GVHMpIHsKICAgICAgd2lkdGhkcmF3TkZUcy52YWx1ZSA9IFZhdWx0UmVmLnZhbHVlLmN1cnJlbnRWYXVsdE5GVHMubGVuZ3RoIC0gVmF1bHRSZWYudmFsdWUuZGVzaXJlZFZhdWx0TkZUcy5sZW5ndGggPiAwOwogICAgICBjb25zb2xlLmRlYnVnKCJzZWxlY3RlZCAiLmNvbmNhdChuZXdTZWxlY3RlZE5GVHMubGVuZ3RoLCAiIE5GVHMiKSk7CiAgICAgIHNlbGVjdGVkTkZUcy52YWx1ZSA9IG5ld1NlbGVjdGVkTkZUczsKICAgIH07CgogICAgdmFyIGhhbmRsZU5ld1NlbGVjdGVkVmF1bHRORlQgPSBmdW5jdGlvbiBoYW5kbGVOZXdTZWxlY3RlZFZhdWx0TkZUKG5ld1NlbGVjdGVkTkZUcykgewogICAgICB3aWR0aGRyYXdORlRzLnZhbHVlID0gVmF1bHRSZWYudmFsdWUuY3VycmVudFZhdWx0TkZUcy5sZW5ndGggLSBWYXVsdFJlZi52YWx1ZS5kZXNpcmVkVmF1bHRORlRzLmxlbmd0aCA+IDA7CiAgICAgIGNvbnNvbGUuZGVidWcoInNlbGVjdGVkICIuY29uY2F0KG5ld1NlbGVjdGVkTkZUcy5sZW5ndGgsICIgTkZUcyIpKTsKICAgICAgc2VsZWN0ZWRORlRzLnZhbHVlID0gbmV3U2VsZWN0ZWRORlRzOwogICAgfTsKCiAgICB2YXIgYWRkU2luZ2xlR2VtID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKGdlbU1pbnQsIGdlbVNvdXJjZSwgY3JlYXRvcikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5mbGFzaERlcG9zaXRXYWxsZXQobmV3IFB1YmxpY0tleShmYXJtLnZhbHVlKSwgJzEnLCBnZW1NaW50LCBnZW1Tb3VyY2UsIGNyZWF0b3IpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFkZFNpbmdsZUdlbShfeDIsIF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9yZWYxMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBhZGRHZW1zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBtZXNzYWdlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJTdWJtaXR0aW5nIFRyYW5zYWN0aW9ucy4iLCAiUGxlYXNlIFdhaXQuIFRyYW5zYWN0aW9uIGluIFByb2dyZXNzIiwgIm1vZGFsLW5ldXRyYWwiLCBmYWxzZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHNlbGVjdGVkTkZUcy52YWx1ZS5tYXAoZnVuY3Rpb24gKG5mdCkgewogICAgICAgICAgICAgICAgICB2YXIgY3JlYXRvciA9IG5ldyBQdWJsaWNLZXkoIC8vdG9kbyBjdXJyZW50bHkgc2ltcGx5IHRha2luZyB0aGUgMXN0IGNyZWF0b3IKICAgICAgICAgICAgICAgICAgbmZ0Lm9uY2hhaW5NZXRhZGF0YS5kYXRhLmNyZWF0b3JzWzBdLmFkZHJlc3MpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdjcmVhdG9yIGlzJywgY3JlYXRvci50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgICAgYWRkU2luZ2xlR2VtKG5mdC5taW50LCBuZnQucHVia2V5LCBjcmVhdG9yKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiYWRkZWQgYW5vdGhlciAiLmNvbmNhdChzZWxlY3RlZE5GVHMudmFsdWUubGVuZ3RoLCAiIGdlbXMgaW50byBzdGFraW5nIHZhdWx0IikpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBWYXVsdFJlZi52YWx1ZS5tb3ZlTkZUc09uQ2hhaW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaGlkZU1vZGFsKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnQwID0gX2NvbnRleHQxNFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnVW5rbm93biBFcnJvcjogUGxlYXNlIHRyeSBhZ2Fpbi4gSWYgdGhlIHByb2JsZW0gY29udGludWVzLCBwbGVhc2UgcmVhY2ggb3V0IHRvIHRoZSBzaXRlIGFkbWluJzsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQxNC50MCBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfY29udGV4dDE0LnQwLm1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxNzlhIikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIk1pbmltdW0gc3Rha2luZyB0aW1lIG5vdCByZWFjaGVkLiAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJUaGVyZSB3YXMgYSBwcm9ibGVtIiwgbWVzc2FnZSwgIm1vZGFsLWJhZCIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0LCBudWxsLCBbWzAsIDExXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gYWRkR2VtcygpIHsKICAgICAgICByZXR1cm4gX3JlZjE0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgd2FsbGV0OiB3YWxsZXQsCiAgICAgIGZhcm06IGZhcm0sCiAgICAgIGZhcm1BY2M6IGZhcm1BY2MsCiAgICAgIGZhcm1lcjogZmFybWVySWRlbnRpdHksCiAgICAgIGZhcm1lckFjYzogZmFybWVyQWNjLAogICAgICBmYXJtZXJTdGF0ZTogZmFybWVyU3RhdGUsCiAgICAgIGF2YWlsYWJsZUE6IGF2YWlsYWJsZUEsCiAgICAgIGF2YWlsYWJsZUI6IGF2YWlsYWJsZUIsCiAgICAgIGluaXRGYXJtZXI6IGluaXRGYXJtZXIsCiAgICAgIGJlZ2luU3Rha2luZzogYmVnaW5TdGFraW5nLAogICAgICBlbmRTdGFraW5nOiBlbmRTdGFraW5nLAogICAgICBjbGFpbTogY2xhaW0sCiAgICAgIGhhbmRsZVJlZnJlc2hGYXJtZXI6IGhhbmRsZVJlZnJlc2hGYXJtZXIsCiAgICAgIHNlbGVjdGVkTkZUczogc2VsZWN0ZWRORlRzLAogICAgICBoYW5kbGVOZXdTZWxlY3RlZE5GVDogaGFuZGxlTmV3U2VsZWN0ZWRORlQsCiAgICAgIGhhbmRsZU5ld1NlbGVjdGVkVmF1bHRORlQ6IGhhbmRsZU5ld1NlbGVjdGVkVmF1bHRORlQsCiAgICAgIGFkZEdlbXM6IGFkZEdlbXMsCiAgICAgIFZhdWx0UmVmOiBWYXVsdFJlZiwKICAgICAgbW9kYWxBY3RpdmU6IG1vZGFsQWN0aXZlLAogICAgICB0b2dnbGVNb2RhbDogdG9nZ2xlTW9kYWwsCiAgICAgIHNob3dNb2RhbDogc2hvd01vZGFsLAogICAgICBoaWRlTW9kYWw6IGhpZGVNb2RhbCwKICAgICAgc2V0TW9kYWxDb250ZW50OiBzZXRNb2RhbENvbnRlbnQsCiAgICAgIG1vZGFsR29vZDogbW9kYWxHb29kLAogICAgICBtb2RhbEJhZDogbW9kYWxCYWQsCiAgICAgIG1vZGFsTmV1dHJhbDogbW9kYWxOZXV0cmFsLAogICAgICBtb2RhbFNob3dDbG9zZWJ1dHRvbjogbW9kYWxTaG93Q2xvc2VidXR0b24sCiAgICAgIG1vZGFsU2hvd1doZWVsOiBtb2RhbFNob3dXaGVlbCwKICAgICAgTW9kYWxNZXNzYWdlOiBNb2RhbE1lc3NhZ2UsCiAgICAgIE1vZGFsSGVhZGVyOiBNb2RhbEhlYWRlciwKICAgICAgYWNjcnVlZFJld2FyZDogYWNjcnVlZFJld2FyZCwKICAgICAgcGFpZE91dFJld2FyZDogcGFpZE91dFJld2FyZCwKICAgICAgZml4ZWRSYXRlOiBmaXhlZFJhdGUsCiAgICAgIGVzdEZpeGVkUmF0ZTogZXN0Rml4ZWRSYXRlLAogICAgICB3aWR0aGRyYXdORlRzOiB3aWR0aGRyYXdORlRzLAogICAgICB0b3RhbEFjY291bnRzOiB0b3RhbEFjY291bnRzLAogICAgICB0b3RhbFN0YWtlZEFjY291bnRzOiB0b3RhbFN0YWtlZEFjY291bnRzLAogICAgICB0b3RhbE5GVHNTdGFrZWQ6IHRvdGFsTkZUc1N0YWtlZCwKICAgICAgdG90YWxORlRzOiB0b3RhbE5GVHMsCiAgICAgIGZhcm1lcmJlZ2luU3Rha2luZ1RzOiBmYXJtZXJiZWdpblN0YWtpbmdUcywKICAgICAgZXN0UmV3YXJkczogZXN0UmV3YXJkcwogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;;;;;;;AACA,SAAS,eAAT,EAAoC,SAApC,EAA+C,GAA/C,EAAoD,KAApD,QAAiE,KAAjE;AACA,OAAO,SAAP,MAAsB,sBAAtB;AACA,OAAO,UAAP,IAAqB,QAArB,QAAqC,uBAArC;AACA,SAAS,WAAT,QAA4B,mBAA5B;AACA,SAAS,SAAT,QAA0B,iBAA1B;AACA,OAAO,UAAP,MAAuB,6BAAvB;AACA,OAAO,aAAP,MAA0B,yCAA1B;AACA,OAAO,KAAP,MAAkB,iCAAlB;AAEA,SAAS,aAAT,EAAwB,kBAAxB,QAAkD,uBAAlD;AACA,OAAO,KAAP,MAAkB,wBAAlB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,UAAU,EAAE;AAAE,IAAA,KAAK,EAAL,KAAF;AAAS,IAAA,aAAa,EAAb,aAAT;AAAwB,IAAA,UAAU,EAAV,UAAxB;AAAoC,IAAA,KAAK,EAAL;AAApC,GADiB;AAE7B,EAAA,KAF6B,iBAEvB,KAFuB,EAEhB,GAFgB,EAEb;AACd,qBAA8B,SAAS,EAAvC;AAAA,QAAQ,MAAR,cAAQ,MAAR;AAAA,QAAgB,SAAhB,cAAgB,SAAhB;;AACA,sBAAmC,UAAU,EAA7C;AAAA,QAAQ,OAAR,eAAQ,OAAR;AAAA,QAAiB,aAAjB,eAAiB,aAAjB;;AACA,QAAM,aAAa,GAAG,GAAG,CAAC,KAAD,CAAzB;AACA,QAAM,WAAW,GAAG,GAAG,CAAC,KAAD,CAAvB;AACA,QAAM,SAAS,GAAG,GAAG,CAAC,KAAD,CAArB;AACA,QAAM,QAAQ,GAAG,GAAG,CAAC,KAAD,CAApB;AACA,QAAM,YAAY,GAAG,GAAG,CAAC,KAAD,CAAxB;AACA,QAAM,cAAc,GAAG,GAAG,CAAC,KAAD,CAA1B;AACA,QAAM,oBAAoB,GAAG,GAAG,CAAC,KAAD,CAAhC;;AAEA,QAAM,WAAW,GAAG,SAAd,WAAc,GAAK;AACvB,MAAA,WAAW,CAAC,KAAZ,GAAoB,CAAC,WAAW,CAAC,KAAjC;AACD,KAFD;;AAIA,QAAM,SAAS,GAAG,SAAZ,SAAY,GAAK;AACrB,MAAA,WAAW,CAAC,KAAZ,GAAoB,IAApB;AACD,KAFD;;AAIA,QAAM,SAAS,GAAG,SAAZ,SAAY,GAAK;AACrB,MAAA,WAAW,CAAC,KAAZ,GAAoB,KAApB;AACD,KAFD;;AAIA,QAAM,eAAe,GAAG,SAAlB,eAAkB,CAAC,MAAD,EAAgB,OAAhB,EAAgC,KAAhC,EAA8C,SAA9C,EAAiE,SAAjE,EAAsF;AAC1G,MAAA,SAAS,CAAC,KAAV,GAAkB,KAAlB;AACA,MAAA,QAAQ,CAAC,KAAT,GAAiB,KAAjB;AACA,MAAA,YAAY,CAAC,KAAb,GAAqB,KAArB;AAEA,MAAA,WAAW,CAAC,KAAZ,GAAoB,MAApB;AACA,MAAA,YAAY,CAAC,KAAb,GAAqB,OAArB;AAEA,MAAA,oBAAoB,CAAC,KAArB,GAA6B,SAA7B;AACA,MAAA,cAAc,CAAC,KAAf,GAAuB,SAAvB;AAEA,UAAG,KAAK,IAAI,YAAZ,EACQ,SAAS,CAAC,KAAV,GAAkB,IAAlB;AACR,UAAG,KAAK,IAAI,WAAZ,EACQ,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACR,UAAG,KAAK,IAAI,eAAZ,EACQ,YAAY,CAAC,KAAb,GAAqB,IAArB;AAGX,KAnBD;;AAqBA,QAAI,EAAJ;AACA,IAAA,KAAK,CAAC,CAAC,MAAD,EAAS,OAAT,CAAD,uEAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACjB,UAAU,EADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApB,GAAL,CA7Cc,CAiDd;;AACA,IAAA,SAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACF,UAAU,EADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CAlDc,CAsDd;;AACA,QAAM,IAAI,GAAG,GAAG,EAAhB;AACA,QAAM,OAAO,GAAG,GAAG,EAAnB;AACA,QAAM,YAAY,GAAI,GAAG,EAAzB;AACA,QAAM,WAAW,GAAI,GAAG,EAAxB;AACA,QAAM,aAAa,GAAI,GAAG,EAA1B;AACA,QAAM,aAAa,GAAG,GAAG,EAAzB;AACA,QAAM,SAAS,GAAG,GAAG,EAArB;AACA,QAAM,YAAY,GAAG,GAAG,EAAxB;AACA,QAAM,UAAU,GAAG,GAAG,EAAtB;AAEA,QAAM,cAAc,GAAG,GAAG,EAA1B;AACA,QAAM,SAAS,GAAG,GAAG,EAArB;AACA,QAAM,WAAW,GAAG,GAAG,EAAvB;AAEA,QAAM,UAAU,GAAG,GAAG,EAAtB;AACA,QAAM,QAAQ,GAAG,GAAG,EAApB;AACA,QAAM,UAAU,GAAG,GAAG,EAAtB;AAEA,QAAM,QAAQ,GAAG,GAAG,CAAM,IAAN,CAApB;AAEA,QAAM,aAAa,GAAG,GAAG,EAAzB;AACA,QAAM,mBAAmB,GAAG,GAAG,EAA/B;AACA,QAAM,eAAe,GAAG,GAAG,EAA3B;AACA,QAAM,SAAS,GAAG,GAAG,EAArB;AACA,QAAM,oBAAoB,GAAG,GAAG,EAAhC,CA/Ec,CAiFd;;AACA,IAAA,KAAK,CAAC,IAAD,uEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACJ,UAAU,EADN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP,GAAL;;AAIA,QAAM,sBAAsB;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAC7B,gBAAA,aAAa,CAAC,KAAd,GAAsB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aAAxB,CAAsC,QAAtC,EAAtB;AACA,gBAAA,aAAa,CAAC,KAAd,GAAsB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aAAxB,CAAsC,QAAtC,EAAtB;AACA,gBAAA,SAAS,CAAC,KAAV,GAAmB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,SAAxB,CAAkC,gBAAlC,CAAmD,QAAnD,GAA8D,SAAS,CAAC,KAAV,CAAgB,kBAAhB,CAAmC,KAAnC,CAAyC,CAAzC,CAAjF;AACA,gBAAA,YAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,KAAL,CAAW,CAAC,IAAI,CAAC,GAAL,KAAW,IAAX,GAAkB,SAAS,CAAC,KAAV,CAAgB,gBAAnC,KAAwD,SAAS,CAAC,KAAV,GAAkB,UAA1E,IAAsF,MAAjG,CAArB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,IAAI,CAAC,KAAL,CAAW,CAAE,IAAI,CAAC,GAAL,KAAW,IAAZ,GAAoB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,SAAxB,CAAkC,aAAvD,KAAyE,SAAS,CAAC,KAAV,GAAkB,UAAlB,GAA+B,CAA/B,GAAmC,EAAnC,GAAwC,EAAxC,GAA6C,EAAtH,CAAX,CAAnB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aAAxB,CAChB,GADgB,CACZ,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aADZ,EAEhB,QAFgB,EAAnB;AAGA,gBAAA,UAAU,CAAC,KAAX,GAAmB,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aAAxB,CAChB,GADgB,CACZ,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,aADZ,EAEhB,QAFgB,EAAnB;AAIA,gBAAA,SAAS,CAAC,KAAV,GAAkB,KAAlB;AACA,gBAAA,oBAAoB,CAAC,KAArB,GAA6B,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAAwB,SAAxB,CAAkC,cAA/D;;AAd6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAtB,sBAAsB;AAAA;AAAA;AAAA,OAA5B;;AAkBA,QAAM,SAAS;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACM,EAAE,CAAC,YAAH,CAAgB,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CAAhB,CADN;;AAAA;AAChB,gBAAA,OAAO,CAAC,KADQ;AAEd,gBAAA,aAAa,CAAC,KAAd,GAAsB,OAAO,CAAC,KAAR,CAAc,WAApC;AACA,gBAAA,mBAAmB,CAAC,KAApB,GAA4B,OAAO,CAAC,KAAR,CAAc,iBAA1C;AACA,gBAAA,eAAe,CAAC,KAAhB,GAAwB,OAAO,CAAC,KAAR,CAAc,UAAtC;;AAJc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAT,SAAS;AAAA;AAAA;AAAA,OAAf;;AAOA,QAAM,WAAW;AAAA,0EAAG;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,aAAa,CACrC,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CADqC,EAErC,SAAS,GAAI,SAFwB,CADrB;;AAAA;AAAA;AAAA;AACX,gBAAA,SADW;AAKlB,gBAAA,cAAc,CAAC,KAAf,2BAAuB,SAAS,GAAI,SAApC,yDAAuB,qBAAwB,QAAxB,EAAvB;AALkB;AAAA,uBAMM,EAAE,CAAC,cAAH,CAAkB,SAAlB,CANN;;AAAA;AAMlB,gBAAA,SAAS,CAAC,KANQ;AAOlB,gBAAA,WAAW,CAAC,KAAZ,GAAoB,EAAE,CAAC,gBAAH,CAAoB,SAAS,CAAC,KAA9B,CAApB;AAPkB;AAAA,uBAQZ,sBAAsB,EARV;;AAAA;AASlB,gBAAA,OAAO,CAAC,GAAR,2BACqB,cAAc,CAAC,KADpC,QAEE,kBAAkB,CAAC,SAAS,CAAC,KAAX,CAFpB;;AATkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAX,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAeA,QAAM,UAAU;AAAA,0EAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChB,gBAAA,eAAe,CAAC,kCAAD,EAAqC,gSAArC,EAAuU,eAAvU,EAAwV,IAAxV,EAA8V,KAA9V,CAAf;AACE,gBAAA,SAAS;;AAFK,sBAGb,SAAS,MAAM,aAAa,EAHf;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIJ,WAAW,CAAC,aAAa,EAAd,EAAkB,SAAS,EAA3B,CAJP;;AAAA;AAIf,gBAAA,EAJe;AAKf,gBAAA,cAAc,CAAC,KAAf,4BAAuB,SAAS,GAAI,SAApC,0DAAuB,sBAAwB,QAAxB,EAAvB;AACA,gBAAA,IAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,GAAtB,CANe,CAQf;;AACA,gBAAA,OAAO,CAAC,KAAR,GAAgB,SAAhB;AACA,gBAAA,SAAS,CAAC,KAAV,GAAkB,SAAlB;AACA,gBAAA,WAAW,CAAC,KAAZ,GAAoB,SAApB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,SAAnB;AACA,gBAAA,UAAU,CAAC,KAAX,GAAmB,SAAnB;AACA,gBAAA,aAAa,CAAC,KAAd,GAAsB,KAAtB;AAde;AAAA;AAAA,uBAiBP,SAAS,EAjBF;;AAAA;AAAA;AAAA,uBAkBP,WAAW,EAlBJ;;AAAA;AAmBZ,gBAAA,WAAW,CAAC,YAAA;AACT,kBAAA,SAAS;AACT,kBAAA,WAAW;AACd,iBAHW,EAGT,MAHS,CAAX;AAnBY;AAAA;;AAAA;AAAA;AAAA;AAwBb,gBAAA,OAAO,CAAC,GAAR,wBAA4B,IAAI,CAAC,KAAjC;;AAxBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAV,UAAU;AAAA;AAAA;AAAA,OAAhB;;AA6BA,QAAM,UAAU;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGX,gBAAA,eAAe,CAAC,wBAAD,EAA2B,uDAA3B,EAAoF,eAApF,EAAqG,KAArG,EAA4G,IAA5G,CAAf;AACC,gBAAA,SAAS;AAJC;AAAA,uBAKH,EAAE,CAAC,gBAAH,CAAoB,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CAApB,CALG;;AAAA;AAAA;AAAA,uBAMH,WAAW,EANR;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUN,gBAAA,OAVM,GAUI,+FAVJ;;AAWT,oBAAI,wBAAc,KAAlB,EAAyB;AACvB,kBAAA,SAAS;AACT,kBAAA,OAAO,GAAG,aAAG,OAAb;;AACA,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACA,oBAAA,OAAO,GAAG,qDAAV;AACC;;AACD,sBAAG,OAAO,CAAC,QAAR,CAAiB,KAAjB,CAAH,EACA;AACA,oBAAA,OAAO,GAAG,iGAAV;AACC;;AACD,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACA,oBAAA,OAAO,GAAG,mFAAV;AACC;;AAED,kBAAA,SAAS;AACT,kBAAA,eAAe,CAAC,qBAAD,EAAwB,OAAxB,EAAkC,WAAlC,EAA+C,IAA/C,EAAqD,KAArD,CAAf;AACC;;AA7BM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAV,UAAU;AAAA;AAAA;AAAA,OAAhB,CA3Jc,CA4Ld;;;AACA,QAAM,YAAY;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIjB,gBAAA,SAAS;AACT,gBAAA,eAAe,CAAC,wBAAD,EAA2B,yBAA3B,EAAsD,eAAtD,EAAuE,KAAvE,EAA8E,IAA9E,CAAf;;AALiB,sBAMX,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,IAA0C,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAA1E,IAAoF,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,GAAyC,CANlH;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAQP,QAAQ,CAAC,KAAT,CAAe,eAAf,EARO;;AAAA;AAAA;AAAA,uBASP,EAAE,CAAC,WAAH,CAAe,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CAAf,CATO;;AAAA;AAUb,gBAAA,SAAS;AAVI;AAAA;;AAAA;AAAA,sBAcT,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,GAAyC,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAA1E,IAAqF,CAArF,IAA0F,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,GAAyC,CAdzH;AAAA;AAAA;AAAA;;AAgBX,gBAAA,eAAe,CAAC,qBAAD,EAAwB,gIAAxB,EAA2J,WAA3J,EAAwK,IAAxK,EAA8K,KAA9K,CAAf;AAhBW;AAAA;;AAAA;AAAA;AAAA,uBAoBL,QAAQ,CAAC,KAAT,CAAe,eAAf,EApBK;;AAAA;AAqBX,gBAAA,SAAS;;AArBE;AAAA;AAAA,uBAwBT,WAAW,EAxBF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA4BjB,gBAAA,SAAS;AACL,gBAAA,OA7Ba,GA6BH,+FA7BG;;AA8BjB,oBAAI,wBAAc,KAAlB,EAAyB;AACvB,kBAAA,OAAO,GAAG,aAAG,OAAb;;AACA,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACC,oBAAA,OAAO,GAAG,oCAAV;AACA;;AACD,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACC,oBAAA,OAAO,GAAG,gDAAV;AACA;;AACD,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACC,oBAAA,OAAO,GAAG,mFAAV;AACA;;AAEA,kBAAA,SAAS;AACT,kBAAA,eAAe,CAAC,qBAAD,EAAwB,OAAxB,EAAkC,WAAlC,EAA+C,IAA/C,EAAqD,KAArD,CAAf;AACF;;AA/CgB;AAiDnB,gBAAA,YAAY,CAAC,KAAb,GAAqB,EAArB;;AAjDmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAZ,YAAY;AAAA;AAAA;AAAA,OAAlB;;AAoDA,QAAM,UAAU;AAAA,2EAAG,mBAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGf,gBAAA,SAAS;AACT,gBAAA,eAAe,CAAC,0BAAD,EAA6B,sCAA7B,EAAqE,eAArE,EAAsF,KAAtF,EAA6F,IAA7F,CAAf;AAJe;AAAA,uBAMP,EAAE,CAAC,aAAH,CAAiB,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CAAjB,CANO;;AAAA;AAAA;AAAA,uBAOP,WAAW,EAPJ;;AAAA;AASf,gBAAA,SAAS;AATM;AAAA;;AAAA;AAAA;AAAA;AAaX,gBAAA,OAbW,GAaD,+FAbC;;AAcf,oBAAI,yBAAc,KAAlB,EAAyB;AACvB,kBAAA,OAAO,GAAG,cAAG,OAAb;;AACA,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACC,oBAAA,OAAO,GAAG,oCAAV;AACA;;AACA,kBAAA,SAAS;AACT,kBAAA,eAAe,CAAC,qBAAD,EAAwB,OAAxB,EAAkC,WAAlC,EAA+C,IAA/C,EAAqD,KAArD,CAAf;AACF;;AAtBc;AAwBjB,gBAAA,YAAY,CAAC,KAAb,GAAqB,EAArB;AAEA,oBAAG,QAAH,EACE,UAAU,CAAC,KAAD,CAAV;;AA3Be;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAV,UAAU;AAAA;AAAA;AAAA,OAAhB;;AAgCA,QAAM,KAAK;AAAA,2EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACN,EAAE,CAAC,WAAH,CACJ,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CADI,EAEJ,IAAI,SAAJ,CAAc,OAAO,CAAC,KAAR,CAAc,OAAd,CAAsB,UAApC,CAFI,EAGJ,IAAI,SAAJ,CAAc,OAAO,CAAC,KAAR,CAAc,OAAd,CAAsB,UAApC,CAHI,CADM;;AAAA;AAAA;AAAA,uBAMN,WAAW,EANL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAL,KAAK;AAAA;AAAA;AAAA,OAAX;;AASA,QAAM,mBAAmB;AAAA,2EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACpB,EAAE,CAAC,mBAAH,CACJ,IAAI,SAAJ,CAAc,IAAd,CADI,EAEJ,IAAI,SAAJ,CAAc,cAAd,CAFI,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAnB,mBAAmB;AAAA;AAAA;AAAA,OAAzB,CA1Rc,CAiSd;;;AACA,QAAM,YAAY,GAAG,GAAG,CAAS,EAAT,CAAxB;;AAEA,QAAM,oBAAoB,GAAG,SAAvB,oBAAuB,CAAC,eAAD,EAA4B;AACvD,MAAA,aAAa,CAAC,KAAd,GAAuB,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,GAAyC,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAzE,GAAiF,CAAxG;AAEA,MAAA,OAAO,CAAC,KAAR,oBAA0B,eAAe,CAAC,MAA1C;AACA,MAAA,YAAY,CAAC,KAAb,GAAqB,eAArB;AACD,KALD;;AAOA,QAAM,yBAAyB,GAAG,SAA5B,yBAA4B,CAAC,eAAD,EAA4B;AAC5D,MAAA,aAAa,CAAC,KAAd,GAAuB,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAhC,GAAyC,QAAQ,CAAC,KAAT,CAAe,gBAAf,CAAgC,MAAzE,GAAiF,CAAxG;AAEA,MAAA,OAAO,CAAC,KAAR,oBAA0B,eAAe,CAAC,MAA1C;AACA,MAAA,YAAY,CAAC,KAAb,GAAqB,eAArB;AACD,KALD;;AAOA,QAAM,YAAY;AAAA,2EAAG,mBACnB,OADmB,EAEnB,SAFmB,EAGnB,OAHmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKb,EAAE,CAAC,kBAAH,CACJ,IAAI,SAAJ,CAAc,IAAI,CAAC,KAAnB,CADI,EAEJ,GAFI,EAGJ,OAHI,EAIJ,SAJI,EAKJ,OALI,CALa;;AAAA;AAAA;AAAA,uBAYb,WAAW,EAZE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAZ,YAAY;AAAA;AAAA;AAAA,OAAlB;;AAeA,QAAM,OAAO;AAAA,2EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGb,gBAAA,SAAS;AACR,gBAAA,eAAe,CAAC,0BAAD,EAA6B,sCAA7B,EAAqE,eAArE,EAAsF,KAAtF,EAA6F,IAA7F,CAAf;AAJY;AAAA,uBAKR,OAAO,CAAC,GAAR,CACJ,YAAY,CAAC,KAAb,CAAmB,GAAnB,CAAuB,UAAC,GAAD,EAAQ;AAC7B,sBAAM,OAAO,GAAG,IAAI,SAAJ,EACd;AACC,kBAAA,GAAG,CAAC,eAAJ,CAA4B,IAA5B,CAAiC,QAAjC,CAA0C,CAA1C,EAA6C,OAFhC,CAAhB;AAIA,kBAAA,OAAO,CAAC,KAAR,CAAc,YAAd,EAA4B,OAAO,CAAC,QAAR,EAA5B;AAEA,kBAAA,YAAY,CAAC,GAAG,CAAC,IAAL,EAAW,GAAG,CAAC,MAAf,EAAwB,OAAxB,CAAZ;AACD,iBARD,CADI,CALQ;;AAAA;AAgBd,gBAAA,OAAO,CAAC,KAAR,yBACmB,YAAY,CAAC,KAAb,CAAmB,MADtC;AAhBc;AAAA,uBAmBP,QAAQ,CAAC,KAAT,CAAe,eAAf,EAnBO;;AAAA;AAoBb,gBAAA,SAAS;AApBI;AAAA;;AAAA;AAAA;AAAA;AAwBR,gBAAA,OAxBQ,GAwBE,+FAxBF;;AAyBZ,oBAAI,yBAAc,KAAlB,EAAyB;AACvB,kBAAA,OAAO,GAAG,cAAG,OAAb;;AACA,sBAAG,OAAO,CAAC,QAAR,CAAiB,QAAjB,CAAH,EACA;AACC,oBAAA,OAAO,GAAG,oCAAV;AACA;;AACA,kBAAA,SAAS;AACT,kBAAA,eAAe,CAAC,qBAAD,EAAwB,OAAxB,EAAkC,WAAlC,EAA+C,IAA/C,EAAqD,KAArD,CAAf;AACF;;AAjCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAP,OAAO;AAAA;AAAA;AAAA,OAAb;;AAsCA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,IAAI,EAAJ,IAFK;AAGL,MAAA,OAAO,EAAP,OAHK;AAIL,MAAA,MAAM,EAAE,cAJH;AAKL,MAAA,SAAS,EAAT,SALK;AAML,MAAA,WAAW,EAAX,WANK;AAOL,MAAA,UAAU,EAAV,UAPK;AAQL,MAAA,UAAU,EAAV,UARK;AASL,MAAA,UAAU,EAAV,UATK;AAUL,MAAA,YAAY,EAAZ,YAVK;AAWL,MAAA,UAAU,EAAV,UAXK;AAYL,MAAA,KAAK,EAAL,KAZK;AAaL,MAAA,mBAAmB,EAAnB,mBAbK;AAcL,MAAA,YAAY,EAAZ,YAdK;AAeL,MAAA,oBAAoB,EAApB,oBAfK;AAgBL,MAAA,yBAAyB,EAAzB,yBAhBK;AAiBL,MAAA,OAAO,EAAP,OAjBK;AAkBL,MAAA,QAAQ,EAAR,QAlBK;AAmBL,MAAA,WAAW,EAAX,WAnBK;AAoBL,MAAA,WAAW,EAAX,WApBK;AAqBL,MAAA,SAAS,EAAT,SArBK;AAsBL,MAAA,SAAS,EAAT,SAtBK;AAuBL,MAAA,eAAe,EAAf,eAvBK;AAwBL,MAAA,SAAS,EAAT,SAxBK;AAyBL,MAAA,QAAQ,EAAR,QAzBK;AA0BL,MAAA,YAAY,EAAZ,YA1BK;AA2BL,MAAA,oBAAoB,EAApB,oBA3BK;AA4BL,MAAA,cAAc,EAAd,cA5BK;AA6BL,MAAA,YAAY,EAAZ,YA7BK;AA8BL,MAAA,WAAW,EAAX,WA9BK;AA+BL,MAAA,aAAa,EAAb,aA/BK;AAgCL,MAAA,aAAa,EAAb,aAhCK;AAiCL,MAAA,SAAS,EAAT,SAjCK;AAkCL,MAAA,YAAY,EAAZ,YAlCK;AAmCL,MAAA,aAAa,EAAb,aAnCK;AAoCL,MAAA,aAAa,EAAb,aApCK;AAqCL,MAAA,mBAAmB,EAAnB,mBArCK;AAsCL,MAAA,eAAe,EAAf,eAtCK;AAuCL,MAAA,SAAS,EAAT,SAvCK;AAwCL,MAAA,oBAAoB,EAApB,oBAxCK;AAyCL,MAAA,UAAU,EAAV;AAzCK,KAAP;AA2CD;AApZ4B,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent, nextTick, onMounted, ref, watch } from 'vue';\nimport useWallet from '@/composables/wallet';\nimport useCluster, { BankAddr } from '@/composables/cluster';\nimport { initGemFarm } from '@/common/gem-farm';\nimport { PublicKey } from '@solana/web3.js';\nimport ConfigPane from '@/components/ConfigPane.vue';\nimport FarmerDisplay from '@/components/gem-farm/FarmerDisplay.vue';\nimport Vault from '@/components/gem-bank/Vault.vue';\nimport { INFT } from '@/common/web3/NFTget';\nimport { findFarmerPDA, stringifyPKsAndBNs } from '@gemworks/gem-farm-ts';\nimport Modal from \"@/components/Modal.vue\";\n\nexport default defineComponent({\n  components: { Vault, FarmerDisplay, ConfigPane, Modal},\n  setup(props, ctx) {\n    const { wallet, getWallet } = useWallet();\n    const { cluster, getConnection } = useCluster();\n    const widthdrawNFTs = ref(false);\n    const modalActive = ref(false);\n    const modalGood = ref(false);\n    const modalBad = ref(false);\n    const modalNeutral = ref(false);\n    const modalShowWheel = ref(false);\n    const modalShowClosebutton = ref(false);\n\n    const toggleModal = () => {\n      modalActive.value = !modalActive.value;\n    };\n\n    const showModal = () => {\n      modalActive.value = true;\n    };\n\n    const hideModal = () => {\n      modalActive.value = false;\n    };\n\n    const setModalContent = (header:string, content:string, style:string, showClose:boolean, showWheel:boolean) => {\n        modalGood.value = false;\n        modalBad.value = false;\n        modalNeutral.value = false;\n\n        ModalHeader.value = header;\n        ModalMessage.value = content; \n\n        modalShowClosebutton.value = showClose;\n        modalShowWheel.value = showWheel;\n\n        if(style == 'modal-good')\n                modalGood.value = true\n        if(style == 'modal-bad')\n                modalBad.value = true\n        if(style == 'modal-neutral')\n                modalNeutral.value = true\n\n\n    };\n\n    let gf: any;\n    watch([wallet, cluster], async () => {\n      await freshStart();\n    });\n\n    //needed in case we switch in from another window\n    onMounted(async () => {\n      await freshStart();\n    });\n\n    // --------------------------------------- farmer details\n    const farm = ref<string>();\n    const farmAcc = ref<any>();\n    const ModalMessage  = ref<string>();    \n    const ModalHeader  = ref<string>();  \n    const accruedReward  = ref<string>();\n    const paidOutReward = ref<string>();    \n    const fixedRate = ref<number>();    \n    const estFixedRate = ref<number>();\n    const estRewards = ref<number>();\n\n    const farmerIdentity = ref<string>();\n    const farmerAcc = ref<any>();\n    const farmerState = ref<string>();\n\n    const availableA = ref<string>();\n    const accruedA = ref<string>();\n    const availableB = ref<string>();\n\n    const VaultRef = ref<any>(null);\n\n    const totalAccounts = ref<number>();\n    const totalStakedAccounts = ref<number>();    \n    const totalNFTsStaked = ref<number>();    \n    const totalNFTs = ref<number>();    \n    const farmerbeginStakingTs = ref<string>();\n\n    //auto loading for when farm changes\n    watch(farm, async () => {\n      await freshStart();\n    });\n\n    const updateAvailableRewards = async () => {\n      accruedReward.value = farmerAcc.value.rewardA.accruedReward.toString();\n      paidOutReward.value = farmerAcc.value.rewardA.paidOutReward.toString();     \n      fixedRate.value = (farmerAcc.value.rewardA.fixedRate.promisedSchedule.baseRate * farmerAcc.value.rarityPointsStaked.words[0]);\n      estFixedRate.value = Math.floor((Date.now()/1000 - farmerAcc.value.minStakingEndsTs) * (fixedRate.value / 1000000000)/604799);\n      estRewards.value = Math.floor(((Date.now()/1000) - farmerAcc.value.rewardA.fixedRate.lastUpdatedTs) * (fixedRate.value / 1000000000 / 7 / 24 / 60 / 60))\n      availableA.value = farmerAcc.value.rewardA.accruedReward\n        .sub(farmerAcc.value.rewardA.paidOutReward)\n        .toString();\n      availableB.value = farmerAcc.value.rewardB.accruedReward\n        .sub(farmerAcc.value.rewardB.paidOutReward)\n        .toString();   \n     \n      totalNFTs.value = 10000;\n      farmerbeginStakingTs.value = farmerAcc.value.rewardA.fixedRate.beginStakingTs\n      \n    };\n\n    const fetchFarn = async () => {   \n      farmAcc.value = await gf.fetchFarmAcc(new PublicKey(farm.value!));  \n        totalAccounts.value = farmAcc.value.farmerCount;\n        totalStakedAccounts.value = farmAcc.value.stakedFarmerCount\n        totalNFTsStaked.value = farmAcc.value.gemsStaked      \n    };\n\n    const fetchFarmer = async () => {\n      const [farmerPDA] = await findFarmerPDA(\n        new PublicKey(farm.value!),\n        getWallet()!.publicKey!\n      );\n      farmerIdentity.value = getWallet()!.publicKey?.toBase58();\n      farmerAcc.value = await gf.fetchFarmerAcc(farmerPDA);\n      farmerState.value = gf.parseFarmerState(farmerAcc.value);\n      await updateAvailableRewards();\n      console.log(\n        `farmer found at ${farmerIdentity.value}:`,\n        stringifyPKsAndBNs(farmerAcc.value)\n      );\n    };\n\n    const freshStart = async () => {\n       setModalContent(\"Welcome to Lux Metaverse Staking\", \"We are actively updating this interface/staking solution. But please note before staking to make sure all your NFT's are in the Target Vault before staking. The act of clicking 'Start Staking' will lock this NFT for 7 days in this vault you will not be able to unstake during this time.\", \"modal-neutral\", true, false);     \n         showModal();\n      if (getWallet() && getConnection()) {\n        gf = await initGemFarm(getConnection(), getWallet()!);\n        farmerIdentity.value = getWallet()!.publicKey?.toBase58();\n        farm.value = BankAddr.LUX;\n\n        //reset stuff\n        farmAcc.value = undefined;\n        farmerAcc.value = undefined;\n        farmerState.value = undefined;\n        availableA.value = undefined;\n        availableB.value = undefined;\n        widthdrawNFTs.value = false;\n\n        try {          \n          await fetchFarn();\n          await fetchFarmer();\n           setInterval(function () {\n              fetchFarn();\n              fetchFarmer();\n          }, 600000);\n        } catch (e) {\n          console.log(`farm with PK ${farm.value} not found :(`);\n        }\n      }\n    };\n\n    const initFarmer = async () => {      \n          try\n          {           \n            setModalContent(\"Submitting Transaction\", \"Creating new staking account: Transaction in Progress\", \"modal-neutral\", false, true);    \n             showModal();\n              await gf.initFarmerWallet(new PublicKey(farm.value!));  \n              await fetchFarmer();\n          }\n          catch(ex: unknown)\n          {      \n             let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n              if (ex instanceof Error) {\n                hideModal();\n                message = ex.message;\n                if(message.includes(\"0x1770\"))\n                {\n                message = \"Transaction Failed: Compute limit(200000) reached. \";\n                }\n                if(message.includes(\"0x1\"))\n                {\n                message = \"Please make sure you have at least .05 Sol in your account to cover rental and transaction fees\";\n                }\n                if(message.includes(\"0x1784\"))\n                {\n                message = \"Vault is Locked. Please try again after the minimum staking peroid has completed \";\n                }\n                \n                showModal();\n                setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n                }\n          }          \n    };\n\n    // --------------------------------------- staking\n    const beginStaking = async () => {\n\n      try\n      {\n        showModal();\n        setModalContent(\"Submitting Transaction\", \"Transaction in Progress\", \"modal-neutral\", false, true);     \n          if((VaultRef.value.desiredVaultNFTs.length >= VaultRef.value.currentVaultNFTs.length && VaultRef.value.desiredVaultNFTs.length > 0))\n          {\n            await VaultRef.value.moveNFTsOnChain();\n            await gf.stakeWallet(new PublicKey(farm.value!));\n            hideModal();\n          }\n          else\n          {\n            if((VaultRef.value.desiredVaultNFTs.length - VaultRef.value.currentVaultNFTs.length) >= 0 && VaultRef.value.desiredVaultNFTs.length < 1)\n            {\n              setModalContent(\"There was a problem\", \"You must move at least 1 NFT to the staking wallet. To do so, click the NFT then click the right arrow then hit Start Staking!\" , \"modal-bad\", true, false);\n            }\n            else\n            {\n              await VaultRef.value.moveNFTsOnChain();                \n              hideModal();\n            }             \n          }\n          await fetchFarmer();        \n      }\n      catch(ex: unknown)\n      {      \n        hideModal();\n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n          if(message.includes(\"0x1785\"))\n          {\n           message = \"Must have at least 1 NFT staked in the Vault. \";\n          }\n          if(message.includes(\"0x1784\"))\n          {\n           message = \"Vault is Locked. Please try again after the minimum staking peroid has completed \";\n          }\n           \n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }\n      selectedNFTs.value = [];\n    };\n\n    const endStaking = async (finalize:boolean) => {\n      try\n      {\n        showModal();\n        setModalContent(\"Submitting Transactions.\", \"Please Wait. Transaction in Progress\", \"modal-neutral\", false, true);\n\n          await gf.unstakeWallet(new PublicKey(farm.value!));\n          await fetchFarmer();\n\n        hideModal();\n      }\n      catch(ex: unknown)\n      {      \n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }\n      selectedNFTs.value = [];\n\n      if(finalize)\n        endStaking(false);\n    };\n\n    \n\n    const claim = async () => {\n      await gf.claimWallet(\n        new PublicKey(farm.value!),\n        new PublicKey(farmAcc.value.rewardA.rewardMint!),\n        new PublicKey(farmAcc.value.rewardB.rewardMint!)\n      );\n      await fetchFarmer();\n    };\n\n    const handleRefreshFarmer = async () => {\n      await gf.refreshFarmerWallet(\n        new PublicKey(farm!),\n        new PublicKey(farmerIdentity!)\n          );\n    };\n\n    // --------------------------------------- adding extra gem\n    const selectedNFTs = ref<INFT[]>([]);\n\n    const handleNewSelectedNFT = (newSelectedNFTs: INFT[]) => {\n      widthdrawNFTs.value = (VaultRef.value.currentVaultNFTs.length - VaultRef.value.desiredVaultNFTs.length> 0 )\n      \n      console.debug(`selected ${newSelectedNFTs.length} NFTs`);\n      selectedNFTs.value = newSelectedNFTs; \n    };\n\n    const handleNewSelectedVaultNFT = (newSelectedNFTs: INFT[]) => {\n      widthdrawNFTs.value = (VaultRef.value.currentVaultNFTs.length - VaultRef.value.desiredVaultNFTs.length> 0 )\n      \n      console.debug(`selected ${newSelectedNFTs.length} NFTs`);\n      selectedNFTs.value = newSelectedNFTs;\n    };\n\n    const addSingleGem = async (\n      gemMint: PublicKey,\n      gemSource: PublicKey,\n      creator: PublicKey\n    ) => {\n      await gf.flashDepositWallet(\n        new PublicKey(farm.value!),\n        '1',\n        gemMint,\n        gemSource,\n        creator\n      );\n      await fetchFarmer();\n    };\n\n    const addGems = async () => {\n       try\n      {\n       showModal();\n        setModalContent(\"Submitting Transactions.\", \"Please Wait. Transaction in Progress\", \"modal-neutral\", false, true);\n      await Promise.all(\n        selectedNFTs.value.map((nft) => {\n          const creator = new PublicKey(\n            //todo currently simply taking the 1st creator\n            (nft.onchainMetadata as any).data.creators[0].address\n          );\n          console.debug('creator is', creator.toBase58());\n\n          addSingleGem(nft.mint, nft.pubkey!, creator);\n        })\n      );\n      console.debug(\n        `added another ${selectedNFTs.value.length} gems into staking vault`\n      );\n       await VaultRef.value.moveNFTsOnChain();\n       hideModal();\n      }\n      catch(ex: unknown)\n      {      \n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }     \n    };\n    \n\n    return {\n      wallet,\n      farm,\n      farmAcc,\n      farmer: farmerIdentity,\n      farmerAcc,\n      farmerState,\n      availableA,\n      availableB,\n      initFarmer,\n      beginStaking,\n      endStaking,\n      claim,\n      handleRefreshFarmer,\n      selectedNFTs,\n      handleNewSelectedNFT,\n      handleNewSelectedVaultNFT,\n      addGems,\n      VaultRef,\n      modalActive, \n      toggleModal,\n      showModal,\n      hideModal,\n      setModalContent,\n      modalGood,\n      modalBad,\n      modalNeutral,\n      modalShowClosebutton,\n      modalShowWheel,\n      ModalMessage,\n      ModalHeader,\n      accruedReward,\n      paidOutReward,\n      fixedRate,\n      estFixedRate,\n      widthdrawNFTs,\n      totalAccounts,\n      totalStakedAccounts,\n      totalNFTsStaked,\n      totalNFTs,\n      farmerbeginStakingTs,\n      estRewards\n    };\n  },\n});\n"],"sourceRoot":""}]}