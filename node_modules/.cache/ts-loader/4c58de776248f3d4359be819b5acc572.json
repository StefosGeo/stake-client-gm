{"remainingRequest":"/home/george/projects/gem-farm-chimps-v2/node_modules/babel-loader/lib/index.js!/home/george/projects/gem-farm-chimps-v2/node_modules/ts-loader/index.js??ref--14-2!/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue","mtime":1651785067277},{"path":"/home/george/projects/gem-farm-chimps-v2/babel.config.js","mtime":1651784671821},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js","mtime":1648666880328},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/babel-loader/lib/index.js","mtime":1648666880284},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/ts-loader/index.js","mtime":1648666885109},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js","mtime":1648666880328},{"path":"/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js","mtime":1648666889180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2dlb3JnZS9wcm9qZWN0cy9nZW0tZmFybS1jaGltcHMtdjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZ2VvcmdlL3Byb2plY3RzL2dlbS1mYXJtLWNoaW1wcy12Mi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1Yi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgdXNlV2FsbGV0IGZyb20gJ0AvY29tcG9zYWJsZXMvd2FsbGV0JzsKaW1wb3J0IHVzZUNsdXN0ZXIsIHsgQmFua0FkZHIgfSBmcm9tICdAL2NvbXBvc2FibGVzL2NsdXN0ZXInOwppbXBvcnQgeyBpbml0R2VtRmFybSB9IGZyb20gJ0AvY29tbW9uL2dlbS1mYXJtJzsKaW1wb3J0IHsgUHVibGljS2V5IH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJzsKaW1wb3J0IENvbmZpZ1BhbmUgZnJvbSAnQC9jb21wb25lbnRzL0NvbmZpZ1BhbmUudnVlJzsKaW1wb3J0IEZhcm1lckRpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL2dlbS1mYXJtL0Zhcm1lckRpc3BsYXkudnVlJzsKaW1wb3J0IFZhdWx0IGZyb20gJ0AvY29tcG9uZW50cy9nZW0tYmFuay9WYXVsdC52dWUnOwppbXBvcnQgeyBmaW5kRmFybWVyUERBLCBzdHJpbmdpZnlQS3NBbmRCTnMgfSBmcm9tICdAZ2Vtd29ya3MvZ2VtLWZhcm0tdHMnOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVmF1bHQ6IFZhdWx0LAogICAgRmFybWVyRGlzcGxheTogRmFybWVyRGlzcGxheSwKICAgIENvbmZpZ1BhbmU6IENvbmZpZ1BhbmUsCiAgICBNb2RhbDogTW9kYWwKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgY3R4KSB7CiAgICB2YXIgX3VzZVdhbGxldCA9IHVzZVdhbGxldCgpLAogICAgICAgIHdhbGxldCA9IF91c2VXYWxsZXQud2FsbGV0LAogICAgICAgIGdldFdhbGxldCA9IF91c2VXYWxsZXQuZ2V0V2FsbGV0OwoKICAgIHZhciBfdXNlQ2x1c3RlciA9IHVzZUNsdXN0ZXIoKSwKICAgICAgICBjbHVzdGVyID0gX3VzZUNsdXN0ZXIuY2x1c3RlciwKICAgICAgICBnZXRDb25uZWN0aW9uID0gX3VzZUNsdXN0ZXIuZ2V0Q29ubmVjdGlvbjsKCiAgICB2YXIgd2lkdGhkcmF3TkZUcyA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxBY3RpdmUgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsR29vZCA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxCYWQgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsTmV1dHJhbCA9IHJlZihmYWxzZSk7CiAgICB2YXIgbW9kYWxTaG93V2hlZWwgPSByZWYoZmFsc2UpOwogICAgdmFyIG1vZGFsU2hvd0Nsb3NlYnV0dG9uID0gcmVmKGZhbHNlKTsKCiAgICB2YXIgdG9nZ2xlTW9kYWwgPSBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHsKICAgICAgbW9kYWxBY3RpdmUudmFsdWUgPSAhbW9kYWxBY3RpdmUudmFsdWU7CiAgICB9OwoKICAgIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIG1vZGFsQWN0aXZlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHsKICAgICAgbW9kYWxBY3RpdmUudmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgdmFyIHNldE1vZGFsQ29udGVudCA9IGZ1bmN0aW9uIHNldE1vZGFsQ29udGVudChoZWFkZXIsIGNvbnRlbnQsIHN0eWxlLCBzaG93Q2xvc2UsIHNob3dXaGVlbCkgewogICAgICBtb2RhbEdvb2QudmFsdWUgPSBmYWxzZTsKICAgICAgbW9kYWxCYWQudmFsdWUgPSBmYWxzZTsKICAgICAgbW9kYWxOZXV0cmFsLnZhbHVlID0gZmFsc2U7CiAgICAgIE1vZGFsSGVhZGVyLnZhbHVlID0gaGVhZGVyOwogICAgICBNb2RhbE1lc3NhZ2UudmFsdWUgPSBjb250ZW50OwogICAgICBtb2RhbFNob3dDbG9zZWJ1dHRvbi52YWx1ZSA9IHNob3dDbG9zZTsKICAgICAgbW9kYWxTaG93V2hlZWwudmFsdWUgPSBzaG93V2hlZWw7CiAgICAgIGlmIChzdHlsZSA9PSAnbW9kYWwtZ29vZCcpIG1vZGFsR29vZC52YWx1ZSA9IHRydWU7CiAgICAgIGlmIChzdHlsZSA9PSAnbW9kYWwtYmFkJykgbW9kYWxCYWQudmFsdWUgPSB0cnVlOwogICAgICBpZiAoc3R5bGUgPT0gJ21vZGFsLW5ldXRyYWwnKSBtb2RhbE5ldXRyYWwudmFsdWUgPSB0cnVlOwogICAgfTsKCiAgICB2YXIgZ2Y7CiAgICB3YXRjaChbd2FsbGV0LCBjbHVzdGVyXSwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmcmVzaFN0YXJ0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsgLy9uZWVkZWQgaW4gY2FzZSB3ZSBzd2l0Y2ggaW4gZnJvbSBhbm90aGVyIHdpbmRvdwoKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmcmVzaFN0YXJ0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkpOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZmFybWVyIGRldGFpbHMKCiAgICB2YXIgZmFybSA9IHJlZigpOwogICAgdmFyIGZhcm1BY2MgPSByZWYoKTsKICAgIHZhciBNb2RhbE1lc3NhZ2UgPSByZWYoKTsKICAgIHZhciBNb2RhbEhlYWRlciA9IHJlZigpOwogICAgdmFyIGFjY3J1ZWRSZXdhcmQgPSByZWYoKTsKICAgIHZhciBwYWlkT3V0UmV3YXJkID0gcmVmKCk7CiAgICB2YXIgZml4ZWRSYXRlID0gcmVmKCk7CiAgICB2YXIgZXN0Rml4ZWRSYXRlID0gcmVmKCk7CiAgICB2YXIgZXN0UmV3YXJkcyA9IHJlZigpOwogICAgdmFyIGZhcm1lcklkZW50aXR5ID0gcmVmKCk7CiAgICB2YXIgZmFybWVyQWNjID0gcmVmKCk7CiAgICB2YXIgZmFybWVyU3RhdGUgPSByZWYoKTsKICAgIHZhciBhdmFpbGFibGVBID0gcmVmKCk7CiAgICB2YXIgYWNjcnVlZEEgPSByZWYoKTsKICAgIHZhciBhdmFpbGFibGVCID0gcmVmKCk7CiAgICB2YXIgVmF1bHRSZWYgPSByZWYobnVsbCk7CiAgICB2YXIgdG90YWxBY2NvdW50cyA9IHJlZigpOwogICAgdmFyIHRvdGFsU3Rha2VkQWNjb3VudHMgPSByZWYoKTsKICAgIHZhciB0b3RhbE5GVHNTdGFrZWQgPSByZWYoKTsKICAgIHZhciB0b3RhbE5GVHMgPSByZWYoKTsKICAgIHZhciBmYXJtZXJiZWdpblN0YWtpbmdUcyA9IHJlZigpOyAvL2F1dG8gbG9hZGluZyBmb3Igd2hlbiBmYXJtIGNoYW5nZXMKCiAgICB3YXRjaChmYXJtLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGZyZXNoU3RhcnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSk7CgogICAgdmFyIHVwZGF0ZUF2YWlsYWJsZVJld2FyZHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhY2NydWVkUmV3YXJkLnZhbHVlID0gZmFybWVyQWNjLnZhbHVlLnJld2FyZEEuYWNjcnVlZFJld2FyZC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgcGFpZE91dFJld2FyZC52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLnBhaWRPdXRSZXdhcmQudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIGZpeGVkUmF0ZS52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmZpeGVkUmF0ZS5wcm9taXNlZFNjaGVkdWxlLmJhc2VSYXRlICogZmFybWVyQWNjLnZhbHVlLnJhcml0eVBvaW50c1N0YWtlZC53b3Jkc1swXTsKICAgICAgICAgICAgICAgIGVzdEZpeGVkUmF0ZS52YWx1ZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLyAxMDAwIC0gZmFybWVyQWNjLnZhbHVlLm1pblN0YWtpbmdFbmRzVHMpICogKGZpeGVkUmF0ZS52YWx1ZSAvIDEwMDAwMDAwMDApIC8gNjA0Nzk5KTsKICAgICAgICAgICAgICAgIGVzdFJld2FyZHMudmFsdWUgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC8gMTAwMCAtIGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmZpeGVkUmF0ZS5sYXN0VXBkYXRlZFRzKSAqIChmaXhlZFJhdGUudmFsdWUgLyAxMDAwMDAwMDAwIC8gNyAvIDI0IC8gNjAgLyA2MCkpOwogICAgICAgICAgICAgICAgYXZhaWxhYmxlQS52YWx1ZSA9IGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLmFjY3J1ZWRSZXdhcmQuc3ViKGZhcm1lckFjYy52YWx1ZS5yZXdhcmRBLnBhaWRPdXRSZXdhcmQpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICBhdmFpbGFibGVCLnZhbHVlID0gZmFybWVyQWNjLnZhbHVlLnJld2FyZEIuYWNjcnVlZFJld2FyZC5zdWIoZmFybWVyQWNjLnZhbHVlLnJld2FyZEIucGFpZE91dFJld2FyZCkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHRvdGFsTkZUcy52YWx1ZSA9IDEwMDAwOwogICAgICAgICAgICAgICAgZmFybWVyYmVnaW5TdGFraW5nVHMudmFsdWUgPSBmYXJtZXJBY2MudmFsdWUucmV3YXJkQS5maXhlZFJhdGUuYmVnaW5TdGFraW5nVHM7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiB1cGRhdGVBdmFpbGFibGVSZXdhcmRzKCkgewogICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBmZXRjaEZhcm4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YuZmV0Y2hGYXJtQWNjKG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBmYXJtQWNjLnZhbHVlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICB0b3RhbEFjY291bnRzLnZhbHVlID0gZmFybUFjYy52YWx1ZS5mYXJtZXJDb3VudDsKICAgICAgICAgICAgICAgIHRvdGFsU3Rha2VkQWNjb3VudHMudmFsdWUgPSBmYXJtQWNjLnZhbHVlLnN0YWtlZEZhcm1lckNvdW50OwogICAgICAgICAgICAgICAgdG90YWxORlRzU3Rha2VkLnZhbHVlID0gZmFybUFjYy52YWx1ZS5nZW1zU3Rha2VkOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hGYXJuKCkgewogICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBmZXRjaEZhcm1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIF9nZXRXYWxsZXQkcHVibGljS2V5OwoKICAgICAgICB2YXIgX3lpZWxkJGZpbmRGYXJtZXJQREEsIF95aWVsZCRmaW5kRmFybWVyUERBMiwgZmFybWVyUERBOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRGYXJtZXJQREEobmV3IFB1YmxpY0tleShmYXJtLnZhbHVlKSwgZ2V0V2FsbGV0KCkucHVibGljS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGZpbmRGYXJtZXJQREEgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRmaW5kRmFybWVyUERBMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRmaW5kRmFybWVyUERBLCAxKTsKICAgICAgICAgICAgICAgIGZhcm1lclBEQSA9IF95aWVsZCRmaW5kRmFybWVyUERBMlswXTsKICAgICAgICAgICAgICAgIGZhcm1lcklkZW50aXR5LnZhbHVlID0gKF9nZXRXYWxsZXQkcHVibGljS2V5ID0gZ2V0V2FsbGV0KCkucHVibGljS2V5KSA9PT0gbnVsbCB8fCBfZ2V0V2FsbGV0JHB1YmxpY0tleSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dldFdhbGxldCRwdWJsaWNLZXkudG9CYXNlNTgoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5mZXRjaEZhcm1lckFjYyhmYXJtZXJQREEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBmYXJtZXJBY2MudmFsdWUgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGZhcm1lclN0YXRlLnZhbHVlID0gZ2YucGFyc2VGYXJtZXJTdGF0ZShmYXJtZXJBY2MudmFsdWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVBdmFpbGFibGVSZXdhcmRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmFybWVyIGZvdW5kIGF0ICIuY29uY2F0KGZhcm1lcklkZW50aXR5LnZhbHVlLCAiOiIpLCBzdHJpbmdpZnlQS3NBbmRCTnMoZmFybWVyQWNjLnZhbHVlKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hGYXJtZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGZyZXNoU3RhcnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBfZ2V0V2FsbGV0JHB1YmxpY0tleTI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShnZXRXYWxsZXQoKSAmJiBnZXRDb25uZWN0aW9uKCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0R2VtRmFybShnZXRDb25uZWN0aW9uKCksIGdldFdhbGxldCgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgZ2YgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGZhcm1lcklkZW50aXR5LnZhbHVlID0gKF9nZXRXYWxsZXQkcHVibGljS2V5MiA9IGdldFdhbGxldCgpLnB1YmxpY0tleSkgPT09IG51bGwgfHwgX2dldFdhbGxldCRwdWJsaWNLZXkyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2V0V2FsbGV0JHB1YmxpY0tleTIudG9CYXNlNTgoKTsKICAgICAgICAgICAgICAgIGZhcm0udmFsdWUgPSBCYW5rQWRkci5MVVg7IC8vcmVzZXQgc3R1ZmYKCiAgICAgICAgICAgICAgICBmYXJtQWNjLnZhbHVlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgZmFybWVyQWNjLnZhbHVlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgZmFybWVyU3RhdGUudmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBhdmFpbGFibGVBLnZhbHVlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgYXZhaWxhYmxlQi52YWx1ZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHdpZHRoZHJhd05GVHMudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybigpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZhcm1lcigpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBmZXRjaEZhcm4oKTsKICAgICAgICAgICAgICAgICAgZmV0Y2hGYXJtZXIoKTsKICAgICAgICAgICAgICAgIH0sIDYwMDAwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmYXJtIHdpdGggUEsgIi5jb25jYXQoZmFybS52YWx1ZSwgIiBub3QgZm91bmQgOigiKSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIG51bGwsIFtbMTIsIDIwXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZnJlc2hTdGFydCgpIHsKICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgaW5pdEZhcm1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIG1lc3NhZ2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiU3VibWl0dGluZyBUcmFuc2FjdGlvbiIsICJDcmVhdGluZyBuZXcgc3Rha2luZyBhY2NvdW50OiBUcmFuc2FjdGlvbiBpbiBQcm9ncmVzcyIsICJtb2RhbC1uZXV0cmFsIiwgZmFsc2UsIHRydWUpOwogICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YuaW5pdEZhcm1lcldhbGxldChuZXcgUHVibGljS2V5KGZhcm0udmFsdWUpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoRmFybWVyKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdVbmtub3duIEVycm9yOiBQbGVhc2UgdHJ5IGFnYWluLiBJZiB0aGUgcHJvYmxlbSBjb250aW51ZXMsIHBsZWFzZSByZWFjaCBvdXQgdG8gdGhlIHNpdGUgYWRtaW4nOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDgudDAgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoKTsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0OC50MC5tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc3MCIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJUcmFuc2FjdGlvbiBGYWlsZWQ6IENvbXB1dGUgbGltaXQoMjAwMDAwKSByZWFjaGVkLiAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbmNsdWRlcygiMHgxIikpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgYXQgbGVhc3QgLjA1IFNvbCBpbiB5b3VyIGFjY291bnQgdG8gY292ZXIgcmVudGFsIGFuZCB0cmFuc2FjdGlvbiBmZWVzIjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc4NCIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJWYXVsdCBpcyBMb2NrZWQuIFBsZWFzZSB0cnkgYWdhaW4gYWZ0ZXIgdGhlIG1pbmltdW0gc3Rha2luZyBwZXJvaWQgaGFzIGNvbXBsZXRlZCAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJUaGVyZSB3YXMgYSBwcm9ibGVtIiwgbWVzc2FnZSwgIm1vZGFsLWJhZCIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCwgbnVsbCwgW1swLCA5XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdEZhcm1lcigpIHsKICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHN0YWtpbmcKCgogICAgdmFyIGJlZ2luU3Rha2luZyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIG1lc3NhZ2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJTdWJtaXR0aW5nIFRyYW5zYWN0aW9uIiwgIlRyYW5zYWN0aW9uIGluIFByb2dyZXNzIiwgIm1vZGFsLW5ldXRyYWwiLCBmYWxzZSwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgaWYgKCEoVmF1bHRSZWYudmFsdWUuZGVzaXJlZFZhdWx0TkZUcy5sZW5ndGggPj0gVmF1bHRSZWYudmFsdWUuY3VycmVudFZhdWx0TkZUcy5sZW5ndGggJiYgVmF1bHRSZWYudmFsdWUuZGVzaXJlZFZhdWx0TkZUcy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gVmF1bHRSZWYudmFsdWUubW92ZU5GVHNPbkNoYWluKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBnZi5zdGFrZVdhbGxldChuZXcgUHVibGljS2V5KGZhcm0udmFsdWUpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaGlkZU1vZGFsKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoIShWYXVsdFJlZi52YWx1ZS5kZXNpcmVkVmF1bHRORlRzLmxlbmd0aCAtIFZhdWx0UmVmLnZhbHVlLmN1cnJlbnRWYXVsdE5GVHMubGVuZ3RoID49IDAgJiYgVmF1bHRSZWYudmFsdWUuZGVzaXJlZFZhdWx0TkZUcy5sZW5ndGggPCAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlRoZXJlIHdhcyBhIHByb2JsZW0iLCAiWW91IG11c3QgbW92ZSBhdCBsZWFzdCAxIE5GVCB0byB0aGUgc3Rha2luZyB3YWxsZXQuIFRvIGRvIHNvLCBjbGljayB0aGUgTkZUIHRoZW4gY2xpY2sgdGhlIHJpZ2h0IGFycm93IHRoZW4gaGl0IFN0YXJ0IFN0YWtpbmchIiwgIm1vZGFsLWJhZCIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gVmF1bHRSZWYudmFsdWUubW92ZU5GVHNPbkNoYWluKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBoaWRlTW9kYWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGYXJtZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBoaWRlTW9kYWwoKTsKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnVW5rbm93biBFcnJvcjogUGxlYXNlIHRyeSBhZ2Fpbi4gSWYgdGhlIHByb2JsZW0gY29udGludWVzLCBwbGVhc2UgcmVhY2ggb3V0IHRvIHRoZSBzaXRlIGFkbWluJzsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQ5LnQwIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0OS50MC5tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc5YSIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJNaW5pbXVtIHN0YWtpbmcgdGltZSBub3QgcmVhY2hlZC4gIjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc4NSIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJNdXN0IGhhdmUgYXQgbGVhc3QgMSBORlQgc3Rha2VkIGluIHRoZSBWYXVsdC4gIjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc4NCIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJWYXVsdCBpcyBMb2NrZWQuIFBsZWFzZSB0cnkgYWdhaW4gYWZ0ZXIgdGhlIG1pbmltdW0gc3Rha2luZyBwZXJvaWQgaGFzIGNvbXBsZXRlZCAiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgICAgc2V0TW9kYWxDb250ZW50KCJUaGVyZSB3YXMgYSBwcm9ibGVtIiwgbWVzc2FnZSwgIm1vZGFsLWJhZCIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIHNlbGVjdGVkTkZUcy52YWx1ZSA9IFtdOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCBudWxsLCBbWzAsIDIyXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gYmVnaW5TdGFraW5nKCkgewogICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBlbmRTdGFraW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxMCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKGZpbmFsaXplKSB7CiAgICAgICAgdmFyIG1lc3NhZ2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAwOwogICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlN1Ym1pdHRpbmcgVHJhbnNhY3Rpb25zLiIsICJQbGVhc2UgV2FpdC4gVHJhbnNhY3Rpb24gaW4gUHJvZ3Jlc3MiLCAibW9kYWwtbmV1dHJhbCIsIGZhbHNlLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YudW5zdGFrZVdhbGxldChuZXcgUHVibGljS2V5KGZhcm0udmFsdWUpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZhcm1lcigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBoaWRlTW9kYWwoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdVbmtub3duIEVycm9yOiBQbGVhc2UgdHJ5IGFnYWluLiBJZiB0aGUgcHJvYmxlbSBjb250aW51ZXMsIHBsZWFzZSByZWFjaCBvdXQgdG8gdGhlIHNpdGUgYWRtaW4nOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDEwLnQwIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0MTAudDAubWVzc2FnZTsKCiAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmluY2x1ZGVzKCIweDE3OWEiKSkgewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiTWluaW11bSBzdGFraW5nIHRpbWUgbm90IHJlYWNoZWQuICI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHNob3dNb2RhbCgpOwogICAgICAgICAgICAgICAgICBzZXRNb2RhbENvbnRlbnQoIlRoZXJlIHdhcyBhIHByb2JsZW0iLCBtZXNzYWdlLCAibW9kYWwtYmFkIiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgc2VsZWN0ZWRORlRzLnZhbHVlID0gW107CiAgICAgICAgICAgICAgICBpZiAoZmluYWxpemUpIGVuZFN0YWtpbmcoZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMCwgMTBdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRTdGFraW5nKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBjbGFpbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YuY2xhaW1XYWxsZXQobmV3IFB1YmxpY0tleShmYXJtLnZhbHVlKSwgbmV3IFB1YmxpY0tleShmYXJtQWNjLnZhbHVlLnJld2FyZEEucmV3YXJkTWludCksIG5ldyBQdWJsaWNLZXkoZmFybUFjYy52YWx1ZS5yZXdhcmRCLnJld2FyZE1pbnQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZhcm1lcigpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBjbGFpbSgpIHsKICAgICAgICByZXR1cm4gX3JlZjExLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGhhbmRsZVJlZnJlc2hGYXJtZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdmLnJlZnJlc2hGYXJtZXJXYWxsZXQobmV3IFB1YmxpY0tleShmYXJtKSwgbmV3IFB1YmxpY0tleShmYXJtZXJJZGVudGl0eSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoRmFybWVyKCkgewogICAgICAgIHJldHVybiBfcmVmMTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFkZGluZyBleHRyYSBnZW0KCgogICAgdmFyIHNlbGVjdGVkTkZUcyA9IHJlZihbXSk7CgogICAgdmFyIGhhbmRsZU5ld1NlbGVjdGVkTkZUID0gZnVuY3Rpb24gaGFuZGxlTmV3U2VsZWN0ZWRORlQobmV3U2VsZWN0ZWRORlRzKSB7CiAgICAgIHdpZHRoZHJhd05GVHMudmFsdWUgPSBWYXVsdFJlZi52YWx1ZS5jdXJyZW50VmF1bHRORlRzLmxlbmd0aCAtIFZhdWx0UmVmLnZhbHVlLmRlc2lyZWRWYXVsdE5GVHMubGVuZ3RoID4gMDsKICAgICAgY29uc29sZS5kZWJ1Zygic2VsZWN0ZWQgIi5jb25jYXQobmV3U2VsZWN0ZWRORlRzLmxlbmd0aCwgIiBORlRzIikpOwogICAgICBzZWxlY3RlZE5GVHMudmFsdWUgPSBuZXdTZWxlY3RlZE5GVHM7CiAgICB9OwoKICAgIHZhciBoYW5kbGVOZXdTZWxlY3RlZFZhdWx0TkZUID0gZnVuY3Rpb24gaGFuZGxlTmV3U2VsZWN0ZWRWYXVsdE5GVChuZXdTZWxlY3RlZE5GVHMpIHsKICAgICAgd2lkdGhkcmF3TkZUcy52YWx1ZSA9IFZhdWx0UmVmLnZhbHVlLmN1cnJlbnRWYXVsdE5GVHMubGVuZ3RoIC0gVmF1bHRSZWYudmFsdWUuZGVzaXJlZFZhdWx0TkZUcy5sZW5ndGggPiAwOwogICAgICBjb25zb2xlLmRlYnVnKCJzZWxlY3RlZCAiLmNvbmNhdChuZXdTZWxlY3RlZE5GVHMubGVuZ3RoLCAiIE5GVHMiKSk7CiAgICAgIHNlbGVjdGVkTkZUcy52YWx1ZSA9IG5ld1NlbGVjdGVkTkZUczsKICAgIH07CgogICAgdmFyIGFkZFNpbmdsZUdlbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMyhnZW1NaW50LCBnZW1Tb3VyY2UsIGNyZWF0b3IpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2YuZmxhc2hEZXBvc2l0V2FsbGV0KG5ldyBQdWJsaWNLZXkoZmFybS52YWx1ZSksICcxJywgZ2VtTWludCwgZ2VtU291cmNlLCBjcmVhdG9yKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZhcm1lcigpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBhZGRTaW5nbGVHZW0oX3gyLCBfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfcmVmMTMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgYWRkR2VtcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBzaG93TW9kYWwoKTsKICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiU3VibWl0dGluZyBUcmFuc2FjdGlvbnMuIiwgIlBsZWFzZSBXYWl0LiBUcmFuc2FjdGlvbiBpbiBQcm9ncmVzcyIsICJtb2RhbC1uZXV0cmFsIiwgZmFsc2UsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChzZWxlY3RlZE5GVHMudmFsdWUubWFwKGZ1bmN0aW9uIChuZnQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0b3IgPSBuZXcgUHVibGljS2V5KCAvL3RvZG8gY3VycmVudGx5IHNpbXBseSB0YWtpbmcgdGhlIDFzdCBjcmVhdG9yCiAgICAgICAgICAgICAgICAgIG5mdC5vbmNoYWluTWV0YWRhdGEuZGF0YS5jcmVhdG9yc1swXS5hZGRyZXNzKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnY3JlYXRvciBpcycsIGNyZWF0b3IudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICAgIGFkZFNpbmdsZUdlbShuZnQubWludCwgbmZ0LnB1YmtleSwgY3JlYXRvcik7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoImFkZGVkIGFub3RoZXIgIi5jb25jYXQoc2VsZWN0ZWRORlRzLnZhbHVlLmxlbmd0aCwgIiBnZW1zIGludG8gc3Rha2luZyB2YXVsdCIpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gVmF1bHRSZWYudmFsdWUubW92ZU5GVHNPbkNoYWluKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC50MCA9IF9jb250ZXh0MTRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ1Vua25vd24gRXJyb3I6IFBsZWFzZSB0cnkgYWdhaW4uIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgcGxlYXNlIHJlYWNoIG91dCB0byB0aGUgc2l0ZSBhZG1pbic7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTQudDAgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX2NvbnRleHQxNC50MC5tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIjB4MTc5YSIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJNaW5pbXVtIHN0YWtpbmcgdGltZSBub3QgcmVhY2hlZC4gIjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgc2hvd01vZGFsKCk7CiAgICAgICAgICAgICAgICAgIHNldE1vZGFsQ29udGVudCgiVGhlcmUgd2FzIGEgcHJvYmxlbSIsIG1lc3NhZ2UsICJtb2RhbC1iYWQiLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCwgbnVsbCwgW1swLCAxMV1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFkZEdlbXMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYxNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIHdhbGxldDogd2FsbGV0LAogICAgICBmYXJtOiBmYXJtLAogICAgICBmYXJtQWNjOiBmYXJtQWNjLAogICAgICBmYXJtZXI6IGZhcm1lcklkZW50aXR5LAogICAgICBmYXJtZXJBY2M6IGZhcm1lckFjYywKICAgICAgZmFybWVyU3RhdGU6IGZhcm1lclN0YXRlLAogICAgICBhdmFpbGFibGVBOiBhdmFpbGFibGVBLAogICAgICBhdmFpbGFibGVCOiBhdmFpbGFibGVCLAogICAgICBpbml0RmFybWVyOiBpbml0RmFybWVyLAogICAgICBiZWdpblN0YWtpbmc6IGJlZ2luU3Rha2luZywKICAgICAgZW5kU3Rha2luZzogZW5kU3Rha2luZywKICAgICAgY2xhaW06IGNsYWltLAogICAgICBoYW5kbGVSZWZyZXNoRmFybWVyOiBoYW5kbGVSZWZyZXNoRmFybWVyLAogICAgICBzZWxlY3RlZE5GVHM6IHNlbGVjdGVkTkZUcywKICAgICAgaGFuZGxlTmV3U2VsZWN0ZWRORlQ6IGhhbmRsZU5ld1NlbGVjdGVkTkZULAogICAgICBoYW5kbGVOZXdTZWxlY3RlZFZhdWx0TkZUOiBoYW5kbGVOZXdTZWxlY3RlZFZhdWx0TkZULAogICAgICBhZGRHZW1zOiBhZGRHZW1zLAogICAgICBWYXVsdFJlZjogVmF1bHRSZWYsCiAgICAgIG1vZGFsQWN0aXZlOiBtb2RhbEFjdGl2ZSwKICAgICAgdG9nZ2xlTW9kYWw6IHRvZ2dsZU1vZGFsLAogICAgICBzaG93TW9kYWw6IHNob3dNb2RhbCwKICAgICAgaGlkZU1vZGFsOiBoaWRlTW9kYWwsCiAgICAgIHNldE1vZGFsQ29udGVudDogc2V0TW9kYWxDb250ZW50LAogICAgICBtb2RhbEdvb2Q6IG1vZGFsR29vZCwKICAgICAgbW9kYWxCYWQ6IG1vZGFsQmFkLAogICAgICBtb2RhbE5ldXRyYWw6IG1vZGFsTmV1dHJhbCwKICAgICAgbW9kYWxTaG93Q2xvc2VidXR0b246IG1vZGFsU2hvd0Nsb3NlYnV0dG9uLAogICAgICBtb2RhbFNob3dXaGVlbDogbW9kYWxTaG93V2hlZWwsCiAgICAgIE1vZGFsTWVzc2FnZTogTW9kYWxNZXNzYWdlLAogICAgICBNb2RhbEhlYWRlcjogTW9kYWxIZWFkZXIsCiAgICAgIGFjY3J1ZWRSZXdhcmQ6IGFjY3J1ZWRSZXdhcmQsCiAgICAgIHBhaWRPdXRSZXdhcmQ6IHBhaWRPdXRSZXdhcmQsCiAgICAgIGZpeGVkUmF0ZTogZml4ZWRSYXRlLAogICAgICBlc3RGaXhlZFJhdGU6IGVzdEZpeGVkUmF0ZSwKICAgICAgd2lkdGhkcmF3TkZUczogd2lkdGhkcmF3TkZUcywKICAgICAgdG90YWxBY2NvdW50czogdG90YWxBY2NvdW50cywKICAgICAgdG90YWxTdGFrZWRBY2NvdW50czogdG90YWxTdGFrZWRBY2NvdW50cywKICAgICAgdG90YWxORlRzU3Rha2VkOiB0b3RhbE5GVHNTdGFrZWQsCiAgICAgIHRvdGFsTkZUczogdG90YWxORlRzLAogICAgICBmYXJtZXJiZWdpblN0YWtpbmdUczogZmFybWVyYmVnaW5TdGFraW5nVHMsCiAgICAgIGVzdFJld2FyZHM6IGVzdFJld2FyZHMKICAgIH07CiAgfQp9KTs="},{"version":3,"sources":["/home/george/projects/gem-farm-chimps-v2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/george/projects/gem-farm-chimps-v2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/george/projects/gem-farm-chimps-v2/src/views/Home.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent, nextTick, onMounted, ref, watch } from 'vue';\nimport useWallet from '@/composables/wallet';\nimport useCluster, { BankAddr } from '@/composables/cluster';\nimport { initGemFarm } from '@/common/gem-farm';\nimport { PublicKey } from '@solana/web3.js';\nimport ConfigPane from '@/components/ConfigPane.vue';\nimport FarmerDisplay from '@/components/gem-farm/FarmerDisplay.vue';\nimport Vault from '@/components/gem-bank/Vault.vue';\nimport { INFT } from '@/common/web3/NFTget';\nimport { findFarmerPDA, stringifyPKsAndBNs } from '@gemworks/gem-farm-ts';\nimport Modal from \"@/components/Modal.vue\";\n\nexport default defineComponent({\n  components: { Vault, FarmerDisplay, ConfigPane, Modal},\n  setup(props, ctx) {\n    const { wallet, getWallet } = useWallet();\n    const { cluster, getConnection } = useCluster();\n    const widthdrawNFTs = ref(false);\n    const modalActive = ref(false);\n    const modalGood = ref(false);\n    const modalBad = ref(false);\n    const modalNeutral = ref(false);\n    const modalShowWheel = ref(false);\n    const modalShowClosebutton = ref(false);\n\n    const toggleModal = () => {\n      modalActive.value = !modalActive.value;\n    };\n\n    const showModal = () => {\n      modalActive.value = true;\n    };\n\n    const hideModal = () => {\n      modalActive.value = false;\n    };\n\n    const setModalContent = (header:string, content:string, style:string, showClose:boolean, showWheel:boolean) => {\n        modalGood.value = false;\n        modalBad.value = false;\n        modalNeutral.value = false;\n\n        ModalHeader.value = header;\n        ModalMessage.value = content; \n\n        modalShowClosebutton.value = showClose;\n        modalShowWheel.value = showWheel;\n\n        if(style == 'modal-good')\n                modalGood.value = true\n        if(style == 'modal-bad')\n                modalBad.value = true\n        if(style == 'modal-neutral')\n                modalNeutral.value = true\n\n\n    };\n\n    let gf: any;\n    watch([wallet, cluster], async () => {\n      await freshStart();\n    });\n\n    //needed in case we switch in from another window\n    onMounted(async () => {\n      await freshStart();\n    });\n\n    // --------------------------------------- farmer details\n    const farm = ref<string>();\n    const farmAcc = ref<any>();\n    const ModalMessage  = ref<string>();    \n    const ModalHeader  = ref<string>();  \n    const accruedReward  = ref<string>();\n    const paidOutReward = ref<string>();    \n    const fixedRate = ref<number>();    \n    const estFixedRate = ref<number>();\n    const estRewards = ref<number>();\n\n    const farmerIdentity = ref<string>();\n    const farmerAcc = ref<any>();\n    const farmerState = ref<string>();\n\n    const availableA = ref<string>();\n    const accruedA = ref<string>();\n    const availableB = ref<string>();\n\n    const VaultRef = ref<any>(null);\n\n    const totalAccounts = ref<number>();\n    const totalStakedAccounts = ref<number>();    \n    const totalNFTsStaked = ref<number>();    \n    const totalNFTs = ref<number>();    \n    const farmerbeginStakingTs = ref<string>();\n\n    //auto loading for when farm changes\n    watch(farm, async () => {\n      await freshStart();\n    });\n\n    const updateAvailableRewards = async () => {\n      accruedReward.value = farmerAcc.value.rewardA.accruedReward.toString();\n      paidOutReward.value = farmerAcc.value.rewardA.paidOutReward.toString();     \n      fixedRate.value = (farmerAcc.value.rewardA.fixedRate.promisedSchedule.baseRate * farmerAcc.value.rarityPointsStaked.words[0]);\n      estFixedRate.value = Math.floor((Date.now()/1000 - farmerAcc.value.minStakingEndsTs) * (fixedRate.value / 1000000000)/604799);\n      estRewards.value = Math.floor(((Date.now()/1000) - farmerAcc.value.rewardA.fixedRate.lastUpdatedTs) * (fixedRate.value / 1000000000 / 7 / 24 / 60 / 60))\n      availableA.value = farmerAcc.value.rewardA.accruedReward\n        .sub(farmerAcc.value.rewardA.paidOutReward)\n        .toString();\n      availableB.value = farmerAcc.value.rewardB.accruedReward\n        .sub(farmerAcc.value.rewardB.paidOutReward)\n        .toString();   \n     \n      totalNFTs.value = 10000;\n      farmerbeginStakingTs.value = farmerAcc.value.rewardA.fixedRate.beginStakingTs\n      \n    };\n\n    const fetchFarn = async () => {   \n      farmAcc.value = await gf.fetchFarmAcc(new PublicKey(farm.value!));  \n        totalAccounts.value = farmAcc.value.farmerCount;\n        totalStakedAccounts.value = farmAcc.value.stakedFarmerCount\n        totalNFTsStaked.value = farmAcc.value.gemsStaked      \n    };\n\n    const fetchFarmer = async () => {\n      const [farmerPDA] = await findFarmerPDA(\n        new PublicKey(farm.value!),\n        getWallet()!.publicKey!\n      );\n      farmerIdentity.value = getWallet()!.publicKey?.toBase58();\n      farmerAcc.value = await gf.fetchFarmerAcc(farmerPDA);\n      farmerState.value = gf.parseFarmerState(farmerAcc.value);\n      await updateAvailableRewards();\n      console.log(\n        `farmer found at ${farmerIdentity.value}:`,\n        stringifyPKsAndBNs(farmerAcc.value)\n      );\n    };\n\n    const freshStart = async () => {\n      //  setModalContent(\"Welcome to Lux Metaverse Staking\", \"We are actively updating this interface/staking solution. But please note before staking to make sure all your NFT's are in the Target Vault before staking. The act of clicking 'Start Staking' will lock this NFT for 7 days in this vault you will not be able to unstake during this time.\", \"modal-neutral\", true, false);     \n      //    showModal();\n      if (getWallet() && getConnection()) {\n        gf = await initGemFarm(getConnection(), getWallet()!);\n        farmerIdentity.value = getWallet()!.publicKey?.toBase58();\n        farm.value = BankAddr.LUX;\n\n        //reset stuff\n        farmAcc.value = undefined;\n        farmerAcc.value = undefined;\n        farmerState.value = undefined;\n        availableA.value = undefined;\n        availableB.value = undefined;\n        widthdrawNFTs.value = false;\n\n        try {          \n          await fetchFarn();\n          await fetchFarmer();\n           setInterval(function () {\n              fetchFarn();\n              fetchFarmer();\n          }, 600000);\n        } catch (e) {\n          console.log(`farm with PK ${farm.value} not found :(`);\n        }\n      }\n    };\n\n    const initFarmer = async () => {      \n          try\n          {           \n            setModalContent(\"Submitting Transaction\", \"Creating new staking account: Transaction in Progress\", \"modal-neutral\", false, true);    \n             showModal();\n              await gf.initFarmerWallet(new PublicKey(farm.value!));  \n              await fetchFarmer();\n          }\n          catch(ex: unknown)\n          {      \n             let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n              if (ex instanceof Error) {\n                hideModal();\n                message = ex.message;\n                if(message.includes(\"0x1770\"))\n                {\n                message = \"Transaction Failed: Compute limit(200000) reached. \";\n                }\n                if(message.includes(\"0x1\"))\n                {\n                message = \"Please make sure you have at least .05 Sol in your account to cover rental and transaction fees\";\n                }\n                if(message.includes(\"0x1784\"))\n                {\n                message = \"Vault is Locked. Please try again after the minimum staking peroid has completed \";\n                }\n                \n                showModal();\n                setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n                }\n          }          \n    };\n\n    // --------------------------------------- staking\n    const beginStaking = async () => {\n\n      try\n      {\n        showModal();\n        setModalContent(\"Submitting Transaction\", \"Transaction in Progress\", \"modal-neutral\", false, true);     \n          if((VaultRef.value.desiredVaultNFTs.length >= VaultRef.value.currentVaultNFTs.length && VaultRef.value.desiredVaultNFTs.length > 0))\n          {\n            await VaultRef.value.moveNFTsOnChain();\n            await gf.stakeWallet(new PublicKey(farm.value!));\n            hideModal();\n          }\n          else\n          {\n            if((VaultRef.value.desiredVaultNFTs.length - VaultRef.value.currentVaultNFTs.length) >= 0 && VaultRef.value.desiredVaultNFTs.length < 1)\n            {\n              setModalContent(\"There was a problem\", \"You must move at least 1 NFT to the staking wallet. To do so, click the NFT then click the right arrow then hit Start Staking!\" , \"modal-bad\", true, false);\n            }\n            else\n            {\n              await VaultRef.value.moveNFTsOnChain();                \n              hideModal();\n            }             \n          }\n          await fetchFarmer();        \n      }\n      catch(ex: unknown)\n      {      \n        hideModal();\n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n          if(message.includes(\"0x1785\"))\n          {\n           message = \"Must have at least 1 NFT staked in the Vault. \";\n          }\n          if(message.includes(\"0x1784\"))\n          {\n           message = \"Vault is Locked. Please try again after the minimum staking peroid has completed \";\n          }\n           \n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }\n      selectedNFTs.value = [];\n    };\n\n    const endStaking = async (finalize:boolean) => {\n      try\n      {\n        showModal();\n        setModalContent(\"Submitting Transactions.\", \"Please Wait. Transaction in Progress\", \"modal-neutral\", false, true);\n\n          await gf.unstakeWallet(new PublicKey(farm.value!));\n          await fetchFarmer();\n\n        hideModal();\n      }\n      catch(ex: unknown)\n      {      \n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }\n      selectedNFTs.value = [];\n\n      if(finalize)\n        endStaking(false);\n    };\n\n    \n\n    const claim = async () => {\n      await gf.claimWallet(\n        new PublicKey(farm.value!),\n        new PublicKey(farmAcc.value.rewardA.rewardMint!),\n        new PublicKey(farmAcc.value.rewardB.rewardMint!)\n      );\n      await fetchFarmer();\n    };\n\n    const handleRefreshFarmer = async () => {\n      await gf.refreshFarmerWallet(\n        new PublicKey(farm!),\n        new PublicKey(farmerIdentity!)\n          );\n    };\n\n    // --------------------------------------- adding extra gem\n    const selectedNFTs = ref<INFT[]>([]);\n\n    const handleNewSelectedNFT = (newSelectedNFTs: INFT[]) => {\n      widthdrawNFTs.value = (VaultRef.value.currentVaultNFTs.length - VaultRef.value.desiredVaultNFTs.length> 0 )\n      \n      console.debug(`selected ${newSelectedNFTs.length} NFTs`);\n      selectedNFTs.value = newSelectedNFTs; \n    };\n\n    const handleNewSelectedVaultNFT = (newSelectedNFTs: INFT[]) => {\n      widthdrawNFTs.value = (VaultRef.value.currentVaultNFTs.length - VaultRef.value.desiredVaultNFTs.length> 0 )\n      \n      console.debug(`selected ${newSelectedNFTs.length} NFTs`);\n      selectedNFTs.value = newSelectedNFTs;\n    };\n\n    const addSingleGem = async (\n      gemMint: PublicKey,\n      gemSource: PublicKey,\n      creator: PublicKey\n    ) => {\n      await gf.flashDepositWallet(\n        new PublicKey(farm.value!),\n        '1',\n        gemMint,\n        gemSource,\n        creator\n      );\n      await fetchFarmer();\n    };\n\n    const addGems = async () => {\n       try\n      {\n       showModal();\n        setModalContent(\"Submitting Transactions.\", \"Please Wait. Transaction in Progress\", \"modal-neutral\", false, true);\n      await Promise.all(\n        selectedNFTs.value.map((nft) => {\n          const creator = new PublicKey(\n            //todo currently simply taking the 1st creator\n            (nft.onchainMetadata as any).data.creators[0].address\n          );\n          console.debug('creator is', creator.toBase58());\n\n          addSingleGem(nft.mint, nft.pubkey!, creator);\n        })\n      );\n      console.debug(\n        `added another ${selectedNFTs.value.length} gems into staking vault`\n      );\n       await VaultRef.value.moveNFTsOnChain();\n       hideModal();\n      }\n      catch(ex: unknown)\n      {      \n        let message = 'Unknown Error: Please try again. If the problem continues, please reach out to the site admin'\n        if (ex instanceof Error) {\n          message = ex.message;\n          if(message.includes(\"0x179a\"))\n          {\n           message = \"Minimum staking time not reached. \";\n          }\n           showModal();\n           setModalContent(\"There was a problem\", message , \"modal-bad\", true, false);\n        }\n      }     \n    };\n    \n\n    return {\n      wallet,\n      farm,\n      farmAcc,\n      farmer: farmerIdentity,\n      farmerAcc,\n      farmerState,\n      availableA,\n      availableB,\n      initFarmer,\n      beginStaking,\n      endStaking,\n      claim,\n      handleRefreshFarmer,\n      selectedNFTs,\n      handleNewSelectedNFT,\n      handleNewSelectedVaultNFT,\n      addGems,\n      VaultRef,\n      modalActive, \n      toggleModal,\n      showModal,\n      hideModal,\n      setModalContent,\n      modalGood,\n      modalBad,\n      modalNeutral,\n      modalShowClosebutton,\n      modalShowWheel,\n      ModalMessage,\n      ModalHeader,\n      accruedReward,\n      paidOutReward,\n      fixedRate,\n      estFixedRate,\n      widthdrawNFTs,\n      totalAccounts,\n      totalStakedAccounts,\n      totalNFTsStaked,\n      totalNFTs,\n      farmerbeginStakingTs,\n      estRewards\n    };\n  },\n});\n"],"sourceRoot":""}]}